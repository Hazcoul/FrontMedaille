"use strict";(self.webpackChunkcoreui_free_angular_admin_template=self.webpackChunkcoreui_free_angular_admin_template||[]).push([[76],{2076:(wt,B,u)=>{u.r(B),u.d(B,{ParametresModule:()=>Et});var h=u(6814),a=u(9969),C=u(1272),_=u(2098),U=u(2572),m=u(6549);class K{constructor(c,t,o,n,r,s,b,A,T,y,D){this.idBeneficiaire=c,this.sigle=t,this.raisonSociale=o,this.telephoneFix=n,this.telephoneMobile=r,this.email=s,this.adresse=b,this.createdBy=A,this.createdDate=T,this.lastModifiedBy=y,this.lastModifiedDate=D}}var $=u(3519),d=u.n($),e=u(9212),I=u(6660),p=u(461),l=u(95);let j=(()=>{class i{constructor(t,o){this.beneficiaireService=t,this.activeModal=o,this.isSaving=!1,this.beneficiaire=new K}ngOnInit(){}ngOnDestroy(){}goBack(){window.history.back()}save(){this.isSaving=!0,this.subscribeToSaveResponse(void 0!==this.beneficiaire?.idBeneficiaire?this.beneficiaireService.update(this.beneficiaire):this.beneficiaireService.create(this.beneficiaire))}subscribeToSaveResponse(t){t.subscribe({next:o=>{console.log("NEXT : ",o),this.onSaveSuccess()},error:()=>this.onSaveError()})}onSaveSuccess(){this.isSaving=!1,this.activeModal.close(),d().fire({position:"center",icon:"success",title:"Op\xe9ration effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:3e3})}onSaveError(){this.isSaving=!1}trackById(t,o){return o.idBeneficiaire}close(){console.log("close"),this.activeModal.dismiss()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(I.I),e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit"]],decls:41,vars:6,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],["md","6"],["cLabel","","for","field_sigle"],["cFormControl","","sizing","sm","id","field_sigle","type","text","name","sigle",3,"ngModel","ngModelChange"],["cLabel","","for","field_raisonSociale"],["cFormControl","","sizing","sm","id","field_raisonSociale","type","text","name","raisonSociale","required","",3,"ngModel","ngModelChange"],["cLabel","","for","field_telephoneFix"],["cFormControl","","sizing","sm","id","field_telephoneFix","type","text","name","telephoneFix",3,"ngModel","ngModelChange"],["cLabel","","for","field_field_telephoneMobile"],["cFormControl","","sizing","sm","id","field_field_telephoneMobile","type","text","name","telephoneMobile",3,"ngModel","ngModelChange"],["md","12"],["cLabel","","for","field_email"],["cFormControl","","sizing","sm","id","field_email","type","text","name","email",3,"ngModel","ngModelChange"],["cLabel","","for","field_adresse"],["cFormControl","","id","field_adresse","rows","3","name","adresse",3,"ngModel","ngModelChange"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Ajouter/modifier un b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"form",5,6)(9,"div",7)(10,"c-row")(11,"c-col",8)(12,"label",9),e._uU(13,"Sigle :"),e.qZA(),e.TgZ(14,"input",10),e.NdJ("ngModelChange",function(s){return n.beneficiaire.sigle=s}),e.qZA()(),e.TgZ(15,"c-col",8)(16,"label",11),e._uU(17,"Raison sociale * :"),e.qZA(),e.TgZ(18,"input",12),e.NdJ("ngModelChange",function(s){return n.beneficiaire.raisonSociale=s}),e.qZA()()(),e.TgZ(19,"c-row")(20,"c-col",8)(21,"label",13),e._uU(22,"N\xb0 de t\xe9l\xe9phone fixe :"),e.qZA(),e.TgZ(23,"input",14),e.NdJ("ngModelChange",function(s){return n.beneficiaire.telephoneFix=s}),e.qZA()(),e.TgZ(24,"c-col",8)(25,"label",15),e._uU(26,"N\xb0 de t\xe9l\xe9phone mobile :"),e.qZA(),e.TgZ(27,"input",16),e.NdJ("ngModelChange",function(s){return n.beneficiaire.telephoneMobile=s}),e.qZA()()(),e.TgZ(28,"c-row")(29,"c-col",17)(30,"label",18),e._uU(31,"Email :"),e.qZA(),e.TgZ(32,"input",19),e.NdJ("ngModelChange",function(s){return n.beneficiaire.email=s}),e.qZA()()(),e.TgZ(33,"c-row")(34,"c-col",17)(35,"label",20),e._uU(36,"Adresse :"),e.qZA(),e.TgZ(37,"textarea",21),e.NdJ("ngModelChange",function(s){return n.beneficiaire.adresse=s}),e.qZA()()()(),e.TgZ(38,"div",22)(39,"button",23),e.NdJ("click",function(){return n.save()}),e._uU(40,"Enregistrer"),e.qZA()()()()),2&o&&(e.xp6(14),e.Q6J("ngModel",n.beneficiaire.sigle),e.xp6(4),e.Q6J("ngModel",n.beneficiaire.raisonSociale),e.xp6(5),e.Q6J("ngModel",n.beneficiaire.telephoneFix),e.xp6(4),e.Q6J("ngModel",n.beneficiaire.telephoneMobile),e.xp6(5),e.Q6J("ngModel",n.beneficiaire.email),e.xp6(5),e.Q6J("ngModel",n.beneficiaire.adresse))},dependencies:[a.Hq3,a.oHf,a.eFW,a.Yp0,a.iok,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#538136}"]})}return i})();var v=u(3250);let X=(()=>{class i{constructor(t){this.activeModal=t}close(){this.activeModal.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-beneficiaire"]],decls:44,vars:6,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-sm","no-border"],[1,"modal-footer"],["cButton","","color","danger","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"D\xe9tails d'un b\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"tbody")(11,"tr")(12,"th"),e._uU(13,"Sigle"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()(),e.TgZ(16,"tr")(17,"th"),e._uU(18,"Raison sociale"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()(),e.TgZ(21,"tr")(22,"th"),e._uU(23,"N\xb0 de t\xe9l\xe9phone fixe"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA()(),e.TgZ(26,"tr")(27,"th"),e._uU(28,"N\xb0 de t\xe9l\xe9phone mobile"),e.qZA(),e.TgZ(29,"td"),e._uU(30),e.qZA()(),e.TgZ(31,"tr")(32,"th"),e._uU(33,"Email"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.qZA()(),e.TgZ(36,"tr")(37,"th"),e._uU(38,"Adresse"),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA()()()()()(),e.TgZ(41,"div",8)(42,"button",9),e.NdJ("click",function(){return n.close()}),e._uU(43,"Fermer"),e.qZA()()()),2&o&&(e.xp6(15),e.Oqu(": "+n.beneficiaire.sigle),e.xp6(5),e.Oqu(": "+n.beneficiaire.raisonSociale),e.xp6(5),e.Oqu(": "+n.beneficiaire.telephoneFix),e.xp6(5),e.Oqu(": "+n.beneficiaire.telephoneMobile),e.xp6(5),e.Oqu(": "+n.beneficiaire.email),e.xp6(5),e.Oqu(": "+n.beneficiaire.adresse))},dependencies:[a.Hq3]})}return i})();var Z=u(6472),M=u(3779);function V(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"c-col",4)(1,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openAddEditModal())}),e._uU(2,"Ajouter"),e.qZA()()}}function W(i,c){1&i&&(e.TgZ(0,"th",7),e._uU(1,"Action"),e.qZA())}function ee(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openAddEditModal(n))}),e.O4$(),e._UZ(2,"svg",14),e.qZA(),e.kcU(),e.TgZ(3,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDetailModal(n))}),e._UZ(4,"i",16),e.qZA(),e.TgZ(5,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.confirmDeleteItem(n))}),e._UZ(6,"i",18),e.qZA()()}}function te(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.YNc(16,ee,7,0,"td",12),e.qZA()),2&i){const t=c.$implicit,o=c.index,n=e.oxw(2);e.xp6(3),e.Oqu(o+1),e.xp6(3),e.Oqu(t.sigle),e.xp6(3),e.Oqu(t.raisonSociale),e.xp6(3),e.Oqu(t.telephoneFix),e.xp6(3),e.Oqu(t.email),e.xp6(1),e.Q6J("appHasAnyAuthority",n.droit)}}const ne=(i,c,t)=>({itemsPerPage:i,currentPage:c,totalItems:t});function oe(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"table",6)(2,"thead")(3,"tr")(4,"th",7),e._uU(5,"N\xb0"),e.qZA(),e.TgZ(6,"th",7),e._uU(7,"Sigle"),e.qZA(),e.TgZ(8,"th",7),e._uU(9,"Raison sociale"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"Contact"),e.qZA(),e.TgZ(12,"th",7),e._uU(13,"Email"),e.qZA(),e.YNc(14,W,2,0,"th",8),e.qZA()(),e.TgZ(15,"tbody"),e.YNc(16,te,17,6,"tr",9),e.ALo(17,"paginate"),e.qZA()(),e.TgZ(18,"div",10)(19,"pagination-controls",11),e.NdJ("pageChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(n))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("striped",!0),e.xp6(13),e.Q6J("appHasAnyAuthority",t.droit),e.xp6(2),e.Q6J("ngForOf",e.xi3(17,5,t.beneficiaires,e.kEZ(8,ne,t.itemsPerPage,t.page,t.totalItems))),e.xp6(3),e.s9C("previousLabel",t.previousLabel),e.s9C("nextLabel",t.nextLabel)}}function ie(i,c){1&i&&(e.TgZ(0,"div")(1,"c-alert",19),e._uU(2,"Aucun enregistrement trouv\xe9!"),e.qZA()())}let re=(()=>{class i{constructor(t,o,n,r){this.beneficiaireService=t,this.activatedRoute=o,this.router=n,this.modalService=r,this.totalItems=0,this.isLoading=!1,this.itemsPerPage=m.gK,this.nextLabel=m.wt,this.previousLabel=m.V$,this.predicate="idBeneficiaire",this.droit="ADD_PARAM"}ngOnInit(){this.handleNavigation()}ngOnDestroy(){console.log("Dans ben com, ngOnDestroy")}onTableDataChange(t){this.page=t,this.loadPage()}onTableSizeChange(t){this.itemsPerPage=t.target.value,this.page=1,this.loadPage()}loadPage(t,o){const n=t||this.page||1;this.beneficiaireService.query({page:n-1,size:this.itemsPerPage,sort:this.sort()}).subscribe({next:r=>{console.log("TOTAL_ITEMS_COUNT_FROM_RES_HEADER : ",r.headers.keys()),this.onSuccess(r.body,r.headers,n,!o)},error:()=>this.onError()})}handleNavigation(){(0,U.a)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([t,o])=>{this.loadPage()})}trackId(t,o){return o.idBeneficiaire}confirmDeleteItem(t){d().fire({title:"Etes-vous vraiment s\xfbr?",text:"Cette action est irr\xe9versible!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(o=>{o.isConfirmed&&(this.delete(t),d().fire({title:"Supprim\xe9!",text:"Element supprim\xe9.",icon:"success"}))})}delete(t){this.beneficiaireService.delete(t.idBeneficiaire).subscribe({next:o=>{this.loadPage()},error:o=>console.log("ERROR: ",o)})}sort(){const t=[this.predicate+","+(this.ascending?"asc":"desc")];return"idBeneficiaire"!==this.predicate&&t.push("idBeneficiaire"),t}onSuccess(t,o,n,r){this.totalItems=Number(o.get("x-total-count")),console.log("TOTAL_ITEMS =",this.totalItems),this.page=n,r&&this.router.navigate(["/parametre/beneficiaire"],{queryParams:{page:this.page,size:this.itemsPerPage,sort:this.predicate+","+(this.ascending?"asc":"desc")}}),this.beneficiaires=t||[]}onError(){this.isLoading=!1}openAddEditModal(t){const o=this.modalService.open(j,{size:"lg",backdrop:"static"});null!=t?.idBeneficiaire&&(console.log("BENEFICIAIRE TO EDIT : ",t),o.componentInstance.beneficiaire=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}openDetailModal(t){const o=this.modalService.open(X,{size:"lg",backdrop:"static"});o.componentInstance.beneficiaire=t,o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(I.I),e.Y36(_.gz),e.Y36(_.F0),e.Y36(p.FF))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-beneficiaire"]],decls:9,vars:3,consts:[[1,"mb-4"],["md","10"],["md","2",4,"appHasAnyAuthority"],[4,"ngIf"],["md","2"],["cButton","","color","primary","variant","outline","size","sm",1,"float-end",3,"click"],["cTable","",3,"striped"],["scope","col"],["scope","col",4,"appHasAnyAuthority"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[3,"previousLabel","nextLabel","pageChange"],[4,"appHasAnyAuthority"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["cIcon","","name","cilPen","size","sm"],["type","button",1,"btn","btn-outline-info","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-eye"],["type","button",1,"btn","btn-outline-danger","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-remove"],["color","warning"]],template:function(o,n){1&o&&(e.TgZ(0,"c-card",0)(1,"c-card-header")(2,"c-row")(3,"c-col",1),e._uU(4," Structures B\xe9n\xe9ficiaires "),e.qZA(),e.YNc(5,V,3,0,"c-col",2),e.qZA()(),e.TgZ(6,"c-card-body"),e.YNc(7,oe,20,12,"div",3)(8,ie,3,0,"div",3),e.qZA()()),2&o&&(e.xp6(5),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(2),e.Q6J("ngIf",n.beneficiaires&&n.beneficiaires.length>0),e.xp6(1),e.Q6J("ngIf",n.beneficiaires&&0==n.beneficiaires.length))},dependencies:[h.sg,h.O5,a.Hq3,a.AkF,a.yue,a.nkx,a.Yp0,a.iok,a.auY,C.ar,Z.LS,a.wxo,M.o,Z._s],styles:["c-card-header[_ngcontent-%COMP%]{background-color:#538136}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:large}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#538136;font-weight:700}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#538136}"]})}return i})();class ae{constructor(c,t,o,n,r,s,b,A,T,y,D,x,P,E){this.idFournisseur=c,this.sigle=t,this.libelle=o,this.telephoneFix=n,this.telephoneMobile=r,this.email=s,this.adresse=b,this.numeroIfu=A,this.nomCompletPersonneRessource=T,this.telephonePersonneRessource=y,this.createdBy=D,this.createdDate=x,this.lastModifiedBy=P,this.lastModifiedDate=E}}var L=u(4684);let se=(()=>{class i{constructor(t,o){this.fournisseurService=t,this.activeModal=o,this.isSaving=!1,this.fournisseur=new ae}ngOnInit(){}ngOnDestroy(){}goBack(){window.history.back()}save(){this.isSaving=!0,this.subscribeToSaveResponse(void 0!==this.fournisseur?.idFournisseur?this.fournisseurService.update(this.fournisseur):this.fournisseurService.create(this.fournisseur))}subscribeToSaveResponse(t){t.subscribe({next:o=>{console.log("NEXT : ",o),this.onSaveSuccess()},error:()=>this.onSaveError()})}onSaveSuccess(){this.isSaving=!1,this.activeModal.close(),this.goBack(),d().fire({position:"center",icon:"success",title:"Op\xe9ration effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:3e3})}onSaveError(){this.isSaving=!1}trackById(t,o){return o.idFournisseur}close(){console.log("close"),this.activeModal.dismiss()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(L.K),e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-fournisseur"]],decls:54,vars:9,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],["md","6"],["cLabel","","for","field_sigle"],["cFormControl","","sizing","sm","id","field_sigle","type","text","name","sigle",3,"ngModel","ngModelChange"],["cLabel","","for","field_libelle"],["cFormControl","","sizing","sm","id","field_libelle","type","text","name","libelle",3,"ngModel","ngModelChange"],["cLabel","","for","field_telephoneFix"],["cFormControl","","sizing","sm","id","field_telephoneFix","type","text","name","telephoneFix",3,"ngModel","ngModelChange"],["cLabel","","for","field_telephoneMobile"],["cFormControl","","sizing","sm","id","field_telephoneMobile","type","text","name","telephoneMobile",3,"ngModel","ngModelChange"],["cLabel","","for","field_email"],["cFormControl","","sizing","sm","id","field_email","type","text","name","email",3,"ngModel","ngModelChange"],["cLabel","","for","field_adresse"],["cFormControl","","sizing","sm","id","field_adresse","type","text","name","adresse",3,"ngModel","ngModelChange"],["cLabel","","for","field_numeroIfu"],["cFormControl","","sizing","sm","id","field_numeroIfu","type","text","name","numeroIfu",3,"ngModel","ngModelChange"],["cLabel","","for","field_nomCompletPersonneRessource"],["cFormControl","","sizing","sm","id","field_nomCompletPersonneRessource","type","text","name","nomCompletPersonneRessource",3,"ngModel","ngModelChange"],["cLabel","","for","field_telephonePersonneRessource"],["cFormControl","","sizing","sm","id","field_telephonePersonneRessource","type","text","name","telephonePersonneRessource",3,"ngModel","ngModelChange"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Ajouter/Modifier un fournisseur"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"form",5,6)(9,"div",7)(10,"c-row")(11,"c-col",8)(12,"label",9),e._uU(13,"Sigle :"),e.qZA(),e.TgZ(14,"input",10),e.NdJ("ngModelChange",function(s){return n.fournisseur.sigle=s}),e.qZA()(),e.TgZ(15,"c-col",8)(16,"label",11),e._uU(17,"D\xe9signation* :"),e.qZA(),e.TgZ(18,"input",12),e.NdJ("ngModelChange",function(s){return n.fournisseur.libelle=s}),e.qZA()()(),e.TgZ(19,"c-row")(20,"c-col",8)(21,"label",13),e._uU(22,"T\xe9l\xe9phone Fixe* :"),e.qZA(),e.TgZ(23,"input",14),e.NdJ("ngModelChange",function(s){return n.fournisseur.telephoneFix=s}),e.qZA()(),e.TgZ(24,"c-col",8)(25,"label",15),e._uU(26,"T\xe9l\xe9phone Mobile :"),e.qZA(),e.TgZ(27,"input",16),e.NdJ("ngModelChange",function(s){return n.fournisseur.telephoneMobile=s}),e.qZA()()(),e.TgZ(28,"c-row")(29,"c-col",8)(30,"label",17),e._uU(31,"Email :"),e.qZA(),e.TgZ(32,"input",18),e.NdJ("ngModelChange",function(s){return n.fournisseur.email=s}),e.qZA()(),e.TgZ(33,"c-col",8)(34,"label",19),e._uU(35,"Adresse :"),e.qZA(),e.TgZ(36,"input",20),e.NdJ("ngModelChange",function(s){return n.fournisseur.adresse=s}),e.qZA()()(),e.TgZ(37,"c-row")(38,"c-col",8)(39,"label",21),e._uU(40,"Numero IFU* :"),e.qZA(),e.TgZ(41,"input",22),e.NdJ("ngModelChange",function(s){return n.fournisseur.numeroIfu=s}),e.qZA()(),e.TgZ(42,"c-col",8)(43,"label",23),e._uU(44,"Nom Complet Personne Ressource :"),e.qZA(),e.TgZ(45,"input",24),e.NdJ("ngModelChange",function(s){return n.fournisseur.nomCompletPersonneRessource=s}),e.qZA()()(),e.TgZ(46,"c-row")(47,"c-col",8)(48,"label",25),e._uU(49,"T\xe9l\xe9phone Personne Ressource :"),e.qZA(),e.TgZ(50,"input",26),e.NdJ("ngModelChange",function(s){return n.fournisseur.telephonePersonneRessource=s}),e.qZA()()()(),e.TgZ(51,"div",27)(52,"button",28),e.NdJ("click",function(){return n.save()}),e._uU(53,"Enregistrer"),e.qZA()()()()),2&o&&(e.xp6(14),e.Q6J("ngModel",n.fournisseur.sigle),e.xp6(4),e.Q6J("ngModel",n.fournisseur.libelle),e.xp6(5),e.Q6J("ngModel",n.fournisseur.telephoneFix),e.xp6(4),e.Q6J("ngModel",n.fournisseur.telephoneMobile),e.xp6(5),e.Q6J("ngModel",n.fournisseur.email),e.xp6(4),e.Q6J("ngModel",n.fournisseur.adresse),e.xp6(5),e.Q6J("ngModel",n.fournisseur.numeroIfu),e.xp6(4),e.Q6J("ngModel",n.fournisseur.nomCompletPersonneRessource),e.xp6(5),e.Q6J("ngModel",n.fournisseur.telephonePersonneRessource))},dependencies:[a.Hq3,a.oHf,a.eFW,a.Yp0,a.iok,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#538136}"]})}return i})(),ce=(()=>{class i{constructor(t){this.activeModal=t}ngOnInit(){}close(){this.activeModal.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-fournisseur"]],decls:59,vars:9,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-sm","no-border"],[1,"modal-footer"],["cButton","","color","danger","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"D\xe9tails d'un fournisseur"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"tbody")(11,"tr")(12,"th"),e._uU(13,"Sigle"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()(),e.TgZ(16,"tr")(17,"th"),e._uU(18,"Libelle"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()(),e.TgZ(21,"tr")(22,"th"),e._uU(23,"T\xe9l\xe9phone Fix"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA()(),e.TgZ(26,"tr")(27,"th"),e._uU(28,"T\xe9l\xe9phone Mobile"),e.qZA(),e.TgZ(29,"td"),e._uU(30),e.qZA()(),e.TgZ(31,"tr")(32,"th"),e._uU(33,"Email"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.qZA()(),e.TgZ(36,"tr")(37,"th"),e._uU(38,"Adresse"),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA()(),e.TgZ(41,"tr")(42,"th"),e._uU(43,"Num\xe9ro Ifu"),e.qZA(),e.TgZ(44,"td"),e._uU(45),e.qZA()(),e.TgZ(46,"tr")(47,"th"),e._uU(48,"NomComplet PersonneRessource"),e.qZA(),e.TgZ(49,"td"),e._uU(50),e.qZA()(),e.TgZ(51,"tr")(52,"th"),e._uU(53,"T\xe9l\xe9phone PersonneRessource"),e.qZA(),e.TgZ(54,"td"),e._uU(55),e.qZA()()()()()(),e.TgZ(56,"div",8)(57,"button",9),e.NdJ("click",function(){return n.close()}),e._uU(58,"Fermer"),e.qZA()()()),2&o&&(e.xp6(15),e.Oqu(": "+n.fournisseur.sigle),e.xp6(5),e.Oqu(": "+n.fournisseur.libelle),e.xp6(5),e.Oqu(": "+n.fournisseur.telephoneFix),e.xp6(5),e.Oqu(": "+n.fournisseur.telephoneMobile),e.xp6(5),e.Oqu(": "+n.fournisseur.email),e.xp6(5),e.Oqu(": "+n.fournisseur.adresse),e.xp6(5),e.Oqu(": "+n.fournisseur.numeroIfu),e.xp6(5),e.Oqu(": "+n.fournisseur.nomCompletPersonneRessource),e.xp6(5),e.Oqu(": "+n.fournisseur.telephonePersonneRessource))},dependencies:[a.Hq3]})}return i})();function le(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"c-col",4)(1,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openAddEditModal())}),e._uU(2,"Ajouter"),e.qZA()()}}function de(i,c){1&i&&(e.TgZ(0,"th",7),e._uU(1,"Action"),e.qZA())}function ue(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openAddEditModal(n))}),e.O4$(),e._UZ(2,"svg",14),e.qZA(),e.kcU(),e.TgZ(3,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDetailModal(n))}),e._UZ(4,"i",16),e.qZA(),e.TgZ(5,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.confirmDeleteItem(n))}),e._UZ(6,"i",18),e.qZA()()}}function pe(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.YNc(22,ue,7,0,"td",12),e.qZA()),2&i){const t=c.$implicit,o=c.index,n=e.oxw(2);e.xp6(3),e.Oqu(o+1),e.xp6(3),e.Oqu(t.sigle),e.xp6(3),e.Oqu(t.libelle),e.xp6(3),e.Oqu(t.numeroIfu),e.xp6(3),e.Oqu(t.telephoneFix),e.xp6(3),e.Oqu(t.email),e.xp6(3),e.AsE("",t.nomCompletPersonneRessource," : ",t.telephonePersonneRessource,""),e.xp6(1),e.Q6J("appHasAnyAuthority",n.droit)}}const ge=(i,c,t)=>({itemsPerPage:i,currentPage:c,totalItems:t});function _e(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"table",6)(2,"thead")(3,"tr")(4,"th",7),e._uU(5,"N\xb0"),e.qZA(),e.TgZ(6,"th",7),e._uU(7,"Sigle"),e.qZA(),e.TgZ(8,"th",7),e._uU(9,"Libelle"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"N\xb0IFU"),e.qZA(),e.TgZ(12,"th",7),e._uU(13,"Contact"),e.qZA(),e.TgZ(14,"th",7),e._uU(15,"Email"),e.qZA(),e.TgZ(16,"th",7),e._uU(17,"Personne ressource"),e.qZA(),e.YNc(18,de,2,0,"th",8),e.qZA()(),e.TgZ(19,"tbody"),e.YNc(20,pe,23,9,"tr",9),e.ALo(21,"paginate"),e.qZA()(),e.TgZ(22,"div",10)(23,"pagination-controls",11),e.NdJ("pageChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(n))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("striped",!0),e.xp6(17),e.Q6J("appHasAnyAuthority",t.droit),e.xp6(2),e.Q6J("ngForOf",e.xi3(21,5,t.fournisseurs,e.kEZ(8,ge,t.itemsPerPage,t.page,t.totalItems))),e.xp6(3),e.s9C("previousLabel",t.previousLabel),e.s9C("nextLabel",t.nextLabel)}}function me(i,c){1&i&&(e.TgZ(0,"div")(1,"c-alert",19),e._uU(2,"Aucun enregistrement trouv\xe9!"),e.qZA()())}let he=(()=>{class i{constructor(t,o,n,r){this.fournisseurService=t,this.activatedRoute=o,this.router=n,this.modalService=r,this.totalItems=0,this.isLoading=!1,this.itemsPerPage=m.gK,this.nextLabel=m.wt,this.previousLabel=m.V$,this.predicate="idFournisseur",this.droit="ADD_PARAM"}ngOnInit(){this.handleNavigation()}ngOnDestroy(){console.log("Dans ben com, ngOnDestroy")}onTableDataChange(t){this.page=t,this.loadPage()}onTableSizeChange(t){this.itemsPerPage=t.target.value,this.page=1,this.loadPage()}loadPage(t,o){const n=t||this.page||1;this.fournisseurService.query({page:n-1,size:this.itemsPerPage,sort:this.sort()}).subscribe({next:r=>{console.log("TOTAL_ITEMS_COUNT_FROM_RES_HEADER : ",r.headers.keys()),this.onSuccess(r.body,r.headers,n,!o)},error:()=>this.onError()})}handleNavigation(){(0,U.a)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([t,o])=>{this.loadPage()})}trackId(t,o){return o.idFournisseur}confirmDeleteItem(t){d().fire({title:"Etes-vous vraiment s\xfbr?",text:"Cette action est irr\xe9versible!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(o=>{o.isConfirmed&&(this.delete(t),d().fire({title:"Supprim\xe9!",text:"Element supprim\xe9.",icon:"success"}))})}delete(t){this.fournisseurService.delete(t.idFournisseur).subscribe({next:o=>{this.loadPage()},error:o=>console.log("ERROR: ",o)})}sort(){const t=[this.predicate+","+(this.ascending?"asc":"desc")];return"idFournisseur"!==this.predicate&&t.push("idFournisseur"),t}onSuccess(t,o,n,r){this.totalItems=Number(o.get("x-total-count")),console.log("TOTAL_ITEMS =",this.totalItems),this.page=n,r&&this.router.navigate(["/parametre/fournisseur"],{queryParams:{page:this.page,size:this.itemsPerPage,sort:this.predicate+","+(this.ascending?"asc":"desc")}}),this.fournisseurs=t||[]}onError(){this.isLoading=!1}openAddEditModal(t){const o=this.modalService.open(se,{size:"lg",backdrop:"static"});null!=t?.idFournisseur&&(o.componentInstance.fournisseur=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}openDetailModal(t){const o=this.modalService.open(ce,{size:"lg",backdrop:"static"});o.componentInstance.fournisseur=t,o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(L.K),e.Y36(_.gz),e.Y36(_.F0),e.Y36(p.FF))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-fournisseur"]],decls:9,vars:3,consts:[[1,"mb-4"],["md","10"],["md","2",4,"appHasAnyAuthority"],[4,"ngIf"],["md","2"],["cButton","","color","primary","variant","outline","size","sm",1,"float-end",3,"click"],["cTable","",3,"striped"],["scope","col"],["scope","col",4,"appHasAnyAuthority"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[3,"previousLabel","nextLabel","pageChange"],[4,"appHasAnyAuthority"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["cIcon","","name","cilPen","size","sm"],["type","button",1,"btn","btn-outline-info","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-eye"],["type","button",1,"btn","btn-outline-danger","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-remove"],["color","warning"]],template:function(o,n){1&o&&(e.TgZ(0,"c-card",0)(1,"c-card-header")(2,"c-row")(3,"c-col",1),e._uU(4," Fournisseur "),e.qZA(),e.YNc(5,le,3,0,"c-col",2),e.qZA()(),e.TgZ(6,"c-card-body"),e.YNc(7,_e,24,12,"div",3)(8,me,3,0,"div",3),e.qZA()()),2&o&&(e.xp6(5),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(2),e.Q6J("ngIf",n.fournisseurs&&n.fournisseurs.length>0),e.xp6(1),e.Q6J("ngIf",n.fournisseurs&&0==n.fournisseurs.length))},dependencies:[h.sg,h.O5,a.Hq3,a.AkF,a.yue,a.nkx,a.Yp0,a.iok,a.auY,C.ar,Z.LS,a.wxo,M.o,Z._s],styles:["c-card-header[_ngcontent-%COMP%]{background-color:#538136}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:large}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#538136;font-weight:700}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#538136}"]})}return i})();class fe{constructor(c,t,o,n,r,s,b){this.idDepot=c,this.nomDepot=t,this.description=o,this.createdBy=n,this.createdDate=r,this.lastModifiedBy=s,this.lastModifiedDate=b}}var F=u(624),f=u(7398),g=u(6676),k=u(3593),S=u(1474);let w=(()=>{class i{constructor(t){this.http=t,this.resourceUrl=F.B+"api/depots"}create(t){const o=this.convertDateFromClient(t);return this.http.post(this.resourceUrl,o,{observe:"response"}).pipe((0,f.U)(n=>this.convertDateFromServer(n)))}update(t){const o=this.convertDateFromClient(t);return this.http.put(this.resourceUrl,o,{observe:"response"}).pipe((0,f.U)(n=>this.convertDateFromServer(n)))}find(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"}).pipe((0,f.U)(o=>this.convertDateFromServer(o)))}query(t){const o=(0,k.b)(t);return this.http.get(this.resourceUrl,{params:o,observe:"response"}).pipe((0,f.U)(n=>this.convertDateArrayFromServer(n)))}delete(t){return this.http.delete(`${this.resourceUrl}/${t}`,{observe:"response"})}convertDateFromClient(t){return Object.assign({},t,{createdDate:t.createdDate&&t.createdDate.isValid()?t.createdDate.toJSON():void 0,lastModifiedDate:t.lastModifiedDate&&t.lastModifiedDate.isValid()?t.lastModifiedDate.toJSON():void 0})}convertDateFromServer(t){return t.body&&(t.body.createdDate=t.body.createdDate?g(t.body.createdDate):void 0,t.body.lastModifiedDate=t.body.lastModifiedDate?g(t.body.lastModifiedDate):void 0),t}convertDateArrayFromServer(t){return t.body&&t.body.forEach(o=>{o.createdDate=o.createdDate?g(o.createdDate):void 0,o.lastModifiedDate=o.lastModifiedDate?g(o.lastModifiedDate):void 0}),t}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(S.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),be=(()=>{class i{constructor(t,o){this.depotService=t,this.activeModal=o,this.isSaving=!1,this.depot=new fe}ngOnInit(){}ngOnDestroy(){}goBack(){window.history.back()}save(){this.isSaving=!0,this.subscribeToSaveResponse(void 0!==this.depot?.idDepot?this.depotService.update(this.depot):this.depotService.create(this.depot))}subscribeToSaveResponse(t){t.subscribe({next:o=>{console.log("NEXT : ",o),this.onSaveSuccess()},error:()=>this.onSaveError()})}onSaveSuccess(){this.isSaving=!1,this.activeModal.close(),d().fire({position:"center",icon:"success",title:"Op\xe9ration effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:3e3})}onSaveError(){this.isSaving=!1}trackById(t,o){return o.idDepot}close(){console.log("close"),this.activeModal.dismiss()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(w),e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-depot"]],decls:21,vars:2,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],["cLabel","","for","field_nom"],["cFormControl","","sizing","sm","id","field_nom","type","text","name","nom","required","","placeholder","nom du dep\xf4t",3,"ngModel","ngModelChange"],["cLabel","","for","field_description"],["cFormControl","","sizing","sm","id","field_description","type","text","name","description",3,"ngModel","ngModelChange"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Ajouter/Modifier un d\xe9pot"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"form",5,6)(9,"div",7)(10,"c-row")(11,"label",8),e._uU(12,"Nom * :"),e.qZA(),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(s){return n.depot.nomDepot=s}),e.qZA()(),e.TgZ(14,"c-row")(15,"label",10),e._uU(16,"Description :"),e.qZA(),e.TgZ(17,"input",11),e.NdJ("ngModelChange",function(s){return n.depot.description=s}),e.qZA()()(),e.TgZ(18,"div",12)(19,"button",13),e.NdJ("click",function(){return n.save()}),e._uU(20,"Enregistrer"),e.qZA()()()()),2&o&&(e.xp6(13),e.Q6J("ngModel",n.depot.nomDepot),e.xp6(4),e.Q6J("ngModel",n.depot.description))},dependencies:[a.Hq3,a.oHf,a.eFW,a.iok,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#538136}"]})}return i})(),Ze=(()=>{class i{constructor(t){this.activeModal=t}close(){this.activeModal.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-depot"]],decls:24,vars:2,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-sm","no-border"],[1,"modal-footer"],["cButton","","color","danger","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"D\xe9tails d'un d\xe9pot"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"tbody")(11,"tr")(12,"th"),e._uU(13,"Nom"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()(),e.TgZ(16,"tr")(17,"th"),e._uU(18,"Description"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()()()()()(),e.TgZ(21,"div",8)(22,"button",9),e.NdJ("click",function(){return n.close()}),e._uU(23,"Fermer"),e.qZA()()()),2&o&&(e.xp6(15),e.Oqu(": "+n.depot.nomDepot),e.xp6(5),e.Oqu(": "+n.depot.description))},dependencies:[a.Hq3]})}return i})();function Ae(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"c-col",4)(1,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openAddEditModal())}),e._uU(2,"Ajouter"),e.qZA()()}}function Te(i,c){1&i&&(e.TgZ(0,"th",7),e._uU(1,"Action"),e.qZA())}function ve(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openAddEditModal(n))}),e.O4$(),e._UZ(2,"svg",14),e.qZA(),e.kcU(),e.TgZ(3,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDetailModal(n))}),e._UZ(4,"i",16),e.qZA(),e.TgZ(5,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.confirmDeleteItem(n))}),e._UZ(6,"i",18),e.qZA()()}}function Ce(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.YNc(10,ve,7,0,"td",12),e.qZA()),2&i){const t=c.$implicit,o=c.index,n=e.oxw(2);e.xp6(3),e.Oqu(o+1),e.xp6(3),e.Oqu(t.nomDepot),e.xp6(3),e.Oqu(t.description),e.xp6(1),e.Q6J("appHasAnyAuthority",n.droit)}}const Me=(i,c,t)=>({itemsPerPage:i,currentPage:c,totalItems:t});function qe(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"table",6)(2,"thead")(3,"tr")(4,"th",7),e._uU(5,"N\xb0"),e.qZA(),e.TgZ(6,"th",7),e._uU(7,"Nom"),e.qZA(),e.TgZ(8,"th",7),e._uU(9,"Description"),e.qZA(),e.YNc(10,Te,2,0,"th",8),e.qZA()(),e.TgZ(11,"tbody"),e.YNc(12,Ce,11,4,"tr",9),e.ALo(13,"paginate"),e.qZA()(),e.TgZ(14,"div",10)(15,"pagination-controls",11),e.NdJ("pageChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(n))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("striped",!0),e.xp6(9),e.Q6J("appHasAnyAuthority",t.droit),e.xp6(2),e.Q6J("ngForOf",e.xi3(13,5,t.depots,e.kEZ(8,Me,t.itemsPerPage,t.page,t.totalItems))),e.xp6(3),e.s9C("previousLabel",t.previousLabel),e.s9C("nextLabel",t.nextLabel)}}function ye(i,c){1&i&&(e.TgZ(0,"div")(1,"c-alert",19),e._uU(2,"Aucun enregistrement trouv\xe9!"),e.qZA()())}let De=(()=>{class i{constructor(t,o,n,r){this.DepotService=t,this.activatedRoute=o,this.router=n,this.modalService=r,this.totalItems=0,this.isLoading=!1,this.itemsPerPage=m.gK,this.nextLabel=m.wt,this.previousLabel=m.V$,this.predicate="idDepot",this.droit="ADD_PARAM"}ngOnInit(){this.handleNavigation()}ngOnDestroy(){console.log("Dans ben com, ngOnDestroy")}onTableDataChange(t){this.page=t,this.loadPage()}onTableSizeChange(t){this.itemsPerPage=t.target.value,this.page=1,this.loadPage()}loadPage(t,o){const n=t||this.page||1;this.DepotService.query({page:n-1,size:this.itemsPerPage,sort:this.sort()}).subscribe({next:r=>{console.log("TOTAL_ITEMS_COUNT_FROM_RES_HEADER : ",r.headers.keys()),this.onSuccess(r.body,r.headers,n,!o)},error:()=>this.onError()})}handleNavigation(){(0,U.a)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([t,o])=>{this.loadPage()})}trackId(t,o){return o.idDepot}confirmDeleteItem(t){d().fire({title:"Etes-vous vraiment s\xfbr?",text:"Cette action est irr\xe9versible!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(o=>{o.isConfirmed&&(this.delete(t),d().fire({title:"Supprim\xe9!",text:"Element supprim\xe9.",icon:"success"}))})}delete(t){this.DepotService.delete(t.idDepot).subscribe({next:o=>{this.loadPage()},error:o=>console.log("ERROR: ",o)})}sort(){const t=[this.predicate+","+(this.ascending?"asc":"desc")];return"iddepot"!==this.predicate&&t.push("idDepot"),t}onSuccess(t,o,n,r){this.totalItems=Number(o.get("x-total-count")),console.log("TOTAL_ITEMS =",this.totalItems),this.page=n,r&&this.router.navigate(["/parametre/depot"],{queryParams:{page:this.page,size:this.itemsPerPage,sort:this.predicate+","+(this.ascending?"asc":"desc")}}),this.depots=t||[]}onError(){this.isLoading=!1}openAddEditModal(t){const o=this.modalService.open(be,{size:"lg",backdrop:"static"});null!=t?.idDepot&&(o.componentInstance.depot=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}openDetailModal(t){const o=this.modalService.open(Ze,{size:"lg",backdrop:"static"});o.componentInstance.depot=t,o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(w),e.Y36(_.gz),e.Y36(_.F0),e.Y36(p.FF))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-depot"]],decls:9,vars:3,consts:[[1,"mb-4"],["md","10"],["md","2",4,"appHasAnyAuthority"],[4,"ngIf"],["md","2"],["cButton","","color","primary","variant","outline","size","sm",1,"float-end",3,"click"],["cTable","",3,"striped"],["scope","col"],["scope","col",4,"appHasAnyAuthority"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[3,"previousLabel","nextLabel","pageChange"],[4,"appHasAnyAuthority"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["cIcon","","name","cilPen","size","sm"],["type","button",1,"btn","btn-outline-info","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-eye"],["type","button",1,"btn","btn-outline-danger","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-remove"],["color","warning"]],template:function(o,n){1&o&&(e.TgZ(0,"c-card",0)(1,"c-card-header")(2,"c-row")(3,"c-col",1),e._uU(4," D\xe9pots "),e.qZA(),e.YNc(5,Ae,3,0,"c-col",2),e.qZA()(),e.TgZ(6,"c-card-body"),e.YNc(7,qe,16,12,"div",3)(8,ye,3,0,"div",3),e.qZA()()),2&o&&(e.xp6(5),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(2),e.Q6J("ngIf",n.depots&&n.depots.length>0),e.xp6(1),e.Q6J("ngIf",n.depots&&0==n.depots.length))},dependencies:[h.sg,h.O5,a.Hq3,a.AkF,a.yue,a.nkx,a.Yp0,a.iok,a.auY,C.ar,Z.LS,a.wxo,M.o,Z._s],styles:["c-card-header[_ngcontent-%COMP%]{background-color:#538136}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:large}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#538136;font-weight:700}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#538136}"]})}return i})();var xe=u(2574);let Ue=(()=>{class i{constructor(t){this.activeModal=t}close(){this.activeModal.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-detenteur"]],decls:54,vars:8,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-sm","no-border"],[1,"modal-footer"],["cButton","","color","danger","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"D\xe9tails d'un repr\xe9sentant"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"tbody")(11,"tr")(12,"th"),e._uU(13,"Matricule"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()(),e.TgZ(16,"tr")(17,"th"),e._uU(18,"Civilite"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()(),e.TgZ(21,"tr")(22,"th"),e._uU(23,"Nom"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA()(),e.TgZ(26,"tr")(27,"th"),e._uU(28,"Prenom"),e.qZA(),e.TgZ(29,"td"),e._uU(30),e.qZA()(),e.TgZ(31,"tr")(32,"th"),e._uU(33,"Fonction"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.qZA()(),e.TgZ(36,"tr")(37,"th"),e._uU(38,"Telephone"),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA()(),e.TgZ(41,"tr")(42,"th"),e._uU(43,"Email"),e.qZA(),e.TgZ(44,"td"),e._uU(45),e.qZA()(),e.TgZ(46,"tr")(47,"th"),e._uU(48,"B\xe9n\xe9ficiaire"),e.qZA(),e.TgZ(49,"td"),e._uU(50),e.qZA()()()()()(),e.TgZ(51,"div",8)(52,"button",9),e.NdJ("click",function(){return n.close()}),e._uU(53,"Fermer"),e.qZA()()()),2&o&&(e.xp6(15),e.Oqu(": "+n.detenteur.matricule),e.xp6(5),e.Oqu(": "+n.detenteur.civilite),e.xp6(5),e.Oqu(": "+n.detenteur.nom),e.xp6(5),e.Oqu(": "+n.detenteur.prenom),e.xp6(5),e.Oqu(": "+n.detenteur.fonction),e.xp6(5),e.Oqu(": "+n.detenteur.telephone),e.xp6(5),e.Oqu(": "+n.detenteur.email),e.xp6(5),e.Oqu(": "+(null==n.detenteur.beneficiaire?null:n.detenteur.beneficiaire.raisonSociale)))},dependencies:[a.Hq3]})}return i})();var Oe=u(5593);function Pe(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"c-col",4)(1,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openAddEditModal())}),e._uU(2,"Ajouter"),e.qZA()()}}function Ee(i,c){1&i&&(e.TgZ(0,"th",7),e._uU(1,"Action"),e.qZA())}function Fe(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openAddEditModal(n))}),e.O4$(),e._UZ(2,"svg",14),e.qZA(),e.kcU(),e.TgZ(3,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDetailModal(n))}),e._UZ(4,"i",16),e.qZA(),e.TgZ(5,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.confirmDeleteItem(n))}),e._UZ(6,"i",18),e.qZA()()}}function ke(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span"),e._uU(24),e.qZA()(),e.YNc(25,Fe,7,0,"td",12),e.qZA()),2&i){const t=c.$implicit,o=c.index,n=e.oxw(2);e.xp6(3),e.Oqu(o+1),e.xp6(3),e.Oqu(t.matricule),e.xp6(3),e.Oqu(t.civilite),e.xp6(3),e.Oqu(t.nom),e.xp6(3),e.Oqu(t.prenom),e.xp6(3),e.Oqu(t.fonction),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Oqu(null==t.beneficiaire?null:t.beneficiaire.raisonSociale),e.xp6(1),e.Q6J("appHasAnyAuthority",n.droit)}}const Se=(i,c,t)=>({itemsPerPage:i,currentPage:c,totalItems:t});function we(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"table",6)(2,"thead")(3,"tr")(4,"th",7),e._uU(5,"N\xb0"),e.qZA(),e.TgZ(6,"th",7),e._uU(7,"Matricule"),e.qZA(),e.TgZ(8,"th",7),e._uU(9,"Civilite"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"th",7),e._uU(13,"Prenom"),e.qZA(),e.TgZ(14,"th",7),e._uU(15,"Fonction"),e.qZA(),e.TgZ(16,"th",7),e._uU(17,"Telephone"),e.qZA(),e.TgZ(18,"th",7),e._uU(19,"Structure"),e.qZA(),e.YNc(20,Ee,2,0,"th",8),e.qZA()(),e.TgZ(21,"tbody"),e.YNc(22,ke,26,9,"tr",9),e.ALo(23,"paginate"),e.qZA()(),e.TgZ(24,"div",10)(25,"pagination-controls",11),e.NdJ("pageChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(n))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("striped",!0),e.xp6(19),e.Q6J("appHasAnyAuthority",t.droit),e.xp6(2),e.Q6J("ngForOf",e.xi3(23,5,t.detenteurs,e.kEZ(8,Se,t.itemsPerPage,t.page,t.totalItems))),e.xp6(3),e.s9C("previousLabel",t.previousLabel),e.s9C("nextLabel",t.nextLabel)}}function Je(i,c){1&i&&(e.TgZ(0,"div")(1,"c-alert",19),e._uU(2,"Aucun enregistrement trouv\xe9!"),e.qZA()())}let Ne=(()=>{class i{constructor(t,o,n,r){this.DetenteurService=t,this.activatedRoute=o,this.router=n,this.modalService=r,this.totalItems=0,this.isLoading=!1,this.itemsPerPage=m.gK,this.nextLabel=m.wt,this.previousLabel=m.V$,this.predicate="idDetenteur",this.droit="ADD_PARAM"}ngOnInit(){this.handleNavigation()}ngOnDestroy(){console.log("Dans ben com, ngOnDestroy")}onTableDataChange(t){this.page=t,this.loadPage()}onTableSizeChange(t){this.itemsPerPage=t.target.value,this.page=1,this.loadPage()}loadPage(t,o){const n=t||this.page||1;this.DetenteurService.query({page:n-1,size:this.itemsPerPage,sort:this.sort()}).subscribe({next:r=>{console.log("TOTAL_ITEMS_COUNT_FROM_RES_HEADER : ",r.headers.keys()),this.onSuccess(r.body,r.headers,n,!o)},error:()=>this.onError()})}handleNavigation(){(0,U.a)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([t,o])=>{this.loadPage()})}trackId(t,o){return o.idDetenteur}confirmDeleteItem(t){d().fire({title:"Etes-vous vraiment s\xfbr?",text:"Cette action est irr\xe9versible!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(o=>{o.isConfirmed&&(this.delete(t),d().fire({title:"Supprim\xe9!",text:"Element supprim\xe9.",icon:"success"}))})}delete(t){this.DetenteurService.delete(t.idDetenteur).subscribe({next:o=>{this.loadPage()},error:o=>console.log("ERROR: ",o)})}sort(){const t=[this.predicate+","+(this.ascending?"asc":"desc")];return"idDetenteur"!==this.predicate&&t.push("idDetenteur"),t}onSuccess(t,o,n,r){this.totalItems=Number(o.get("x-total-count")),console.log("TOTAL_ITEMS =",this.totalItems),this.page=n,r&&this.router.navigate(["/parametre/detenteur"],{queryParams:{page:this.page,size:this.itemsPerPage,sort:this.predicate+","+(this.ascending?"asc":"desc")}}),this.detenteurs=t||[]}onError(){this.isLoading=!1}openAddEditModal(t){const o=this.modalService.open(xe.s,{size:"lg",backdrop:"static"});null!=t?.idDetenteur&&(console.log("DETENTEUR TO EDIT : ",t),o.componentInstance.detenteur=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}openDetailModal(t){const o=this.modalService.open(Ue,{size:"lg",backdrop:"static"});o.componentInstance.detenteur=t,o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(Oe.W),e.Y36(_.gz),e.Y36(_.F0),e.Y36(p.FF))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-detenteur"]],decls:9,vars:3,consts:[[1,"mb-4"],["md","10"],["md","2",4,"appHasAnyAuthority"],[4,"ngIf"],["md","2"],["cButton","","color","primary","variant","outline","size","sm",1,"float-end",3,"click"],["cTable","",3,"striped"],["scope","col"],["scope","col",4,"appHasAnyAuthority"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[3,"previousLabel","nextLabel","pageChange"],[4,"appHasAnyAuthority"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["cIcon","","name","cilPen","size","sm"],["type","button",1,"btn","btn-outline-info","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-eye"],["type","button",1,"btn","btn-outline-danger","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-remove"],["color","warning"]],template:function(o,n){1&o&&(e.TgZ(0,"c-card",0)(1,"c-card-header")(2,"c-row")(3,"c-col",1),e._uU(4," Repr\xe9sentants des structures b\xe9n\xe9ficiaires "),e.qZA(),e.YNc(5,Pe,3,0,"c-col",2),e.qZA()(),e.TgZ(6,"c-card-body"),e.YNc(7,we,26,12,"div",3)(8,Je,3,0,"div",3),e.qZA()()),2&o&&(e.xp6(5),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(2),e.Q6J("ngIf",n.detenteurs&&n.detenteurs.length>0),e.xp6(1),e.Q6J("ngIf",n.detenteurs&&0==n.detenteurs.length))},dependencies:[h.sg,h.O5,a.Hq3,a.AkF,a.yue,a.nkx,a.Yp0,a.iok,a.auY,C.ar,Z.LS,a.wxo,M.o,Z._s],styles:["c-card-header[_ngcontent-%COMP%]{background-color:#538136}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:large}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#538136;font-weight:700}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#538136}"]})}return i})();class Be{constructor(c,t,o,n,r,s,b,A,T,y,D,x,P,E,Ft,kt,St){this.idOrdonnateur=c,this.matricule=t,this.nom=o,this.prenom=n,this.civilite=r,this.fonction=s,this.telephone=b,this.email=A,this.gradeMilitaire=T,this.titreHonorifique=y,this.actuel=D,this.debutMandat=x,this.finMandat=P,this.createdBy=E,this.createdDate=Ft,this.lastModifiedBy=kt,this.lastModifiedDate=St}}var z=u(5486),O=u(332);let Ie=(()=>{class i{constructor(t,o,n,r){this.ordonnateurService=t,this.activeModal=o,this.activatedRoute=n,this.router=r,this.isSaving=!1,this.ordonnateur=new Be,this.civilites=["Monsieur","Madame","Moidemoiselle"]}ngOnInit(){this.ordonnateur&&(console.log("Dans Edit ordonnateur"),this.valActuel=this.ordonnateur.actuel?1:0,this.ordonnateur.debutMandat=g(this.ordonnateur?.debutMandat).format("yyyy-MM-DD"),this.ordonnateur.finMandat=g(this.ordonnateur?.finMandat).format("yyyy-MM-DD")),console.log(this.ordonnateur.debutMandat)}ngOnDestroy(){}goBack(){window.history.back()}save(){this.isSaving=!0,this.ordonnateur.actuel=1==this.valActuel,this.ordonnateur.finMandat=this.ordonnateur.finMandat&&g(this.ordonnateur.finMandat).isValid()?this.ordonnateur.finMandat:null,console.log("ORDONNATEUR TO SAVE : ",this.ordonnateur),this.subscribeToSaveResponse(void 0!==this.ordonnateur?.idOrdonnateur?this.ordonnateurService.update(this.ordonnateur):this.ordonnateurService.create(this.ordonnateur))}subscribeToSaveResponse(t){t.subscribe({next:o=>{console.log("NEXT : ",o),this.onSaveSuccess()},error:()=>this.onSaveError()})}onSaveSuccess(){this.isSaving=!1,this.activeModal.close(),this.goBack(),d().fire({position:"center",icon:"success",title:"Op\xe9ration effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:3e3})}onSaveError(){this.isSaving=!1}trackById(t,o){return o.idOrdonnateur}close(){console.log("close"),this.activeModal.dismiss()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(z.A),e.Y36(p.Kz),e.Y36(_.gz),e.Y36(_.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-ordonnateur"]],decls:73,vars:14,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],["md","6"],["cLabel","","for","field_matricule"],["cFormControl","","sizing","sm","id","field_matricule","type","text","name","matricule",3,"ngModel","ngModelChange"],["cLabel","","for","field_civilite"],["name","civilite","id","field_civilite",3,"items","multiple","ngModel","ngModelChange"],["cLabel","","for","field_gradeMilitaire"],["cFormControl","","sizing","sm","id","field_gradeMilitaire","type","text","name","gradeMilitaire",3,"ngModel","ngModelChange"],["cLabel","","for","field_titreHonorifique"],["cFormControl","","sizing","sm","id","field_titreHonorifique","type","text","name","titreHonorifique",3,"ngModel","ngModelChange"],["cLabel","","for","field_nom"],["cFormControl","","sizing","sm","id","field_nom","type","text","name","nom",3,"ngModel","ngModelChange"],["cLabel","","for","field_prenom"],["cFormControl","","sizing","sm","id","field_prenom","type","text","name","prenom",3,"ngModel","ngModelChange"],["cLabel","","for","field_fonction"],["cFormControl","","sizing","sm","id","field_fonction","type","text","name","fonction",3,"ngModel","ngModelChange"],["cLabel","","for","field_telephone"],["cFormControl","","sizing","sm","id","field_telephone","type","text","name","telephone",3,"ngModel","ngModelChange"],["cLabel","","for","field_email"],["cFormControl","","sizing","sm","id","field_email","type","text","name","email",3,"ngModel","ngModelChange"],["cLabel","","for","field_actuel"],["aria-label","Small select example","cSelect","","sizing","sm","name","valActuel","id","field_actuel",3,"ngModel","ngModelChange"],["value","","selected",""],["value","1"],["value","0"],["cLabel","","for","field_debutMandat"],["cFormControl","","sizing","sm","id","field_debutMandat","type","date","name","debutMandat",3,"ngModel","ngModelChange"],["cLabel","","for","field_finMandat"],["cFormControl","","sizing","sm","id","field_finMandat","type","date","name","finMandat",3,"ngModel","ngModelChange"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Ajouter/Modifier un ordonnateur"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"form",5,6)(9,"div",7)(10,"c-row")(11,"c-col",8)(12,"label",9),e._uU(13,"Matricule* :"),e.qZA(),e.TgZ(14,"input",10),e.NdJ("ngModelChange",function(s){return n.ordonnateur.matricule=s}),e.qZA()(),e.TgZ(15,"c-col",8)(16,"label",11),e._uU(17,"Civilite* :"),e.qZA(),e.TgZ(18,"ng-select",12),e.NdJ("ngModelChange",function(s){return n.ordonnateur.civilite=s}),e.qZA()()(),e.TgZ(19,"c-row")(20,"c-col",8)(21,"label",13),e._uU(22,"Grade Militaire :"),e.qZA(),e.TgZ(23,"input",14),e.NdJ("ngModelChange",function(s){return n.ordonnateur.gradeMilitaire=s}),e.qZA()(),e.TgZ(24,"c-col",8)(25,"label",15),e._uU(26,"Titre Honorifique :"),e.qZA(),e.TgZ(27,"input",16),e.NdJ("ngModelChange",function(s){return n.ordonnateur.titreHonorifique=s}),e.qZA()()(),e.TgZ(28,"c-row")(29,"c-col",8)(30,"label",17),e._uU(31,"Nom* :"),e.qZA(),e.TgZ(32,"input",18),e.NdJ("ngModelChange",function(s){return n.ordonnateur.nom=s}),e.qZA()(),e.TgZ(33,"c-col",8)(34,"label",19),e._uU(35,"Prenom* :"),e.qZA(),e.TgZ(36,"input",20),e.NdJ("ngModelChange",function(s){return n.ordonnateur.prenom=s}),e.qZA()()(),e.TgZ(37,"c-row")(38,"c-col",8)(39,"label",21),e._uU(40,"Fonction* :"),e.qZA(),e.TgZ(41,"input",22),e.NdJ("ngModelChange",function(s){return n.ordonnateur.fonction=s}),e.qZA()(),e.TgZ(42,"c-col",8)(43,"label",23),e._uU(44,"T\xe9l\xe9phone* :"),e.qZA(),e.TgZ(45,"input",24),e.NdJ("ngModelChange",function(s){return n.ordonnateur.telephone=s}),e.qZA()()(),e.TgZ(46,"c-row")(47,"c-col",8)(48,"label",25),e._uU(49,"Email :"),e.qZA(),e.TgZ(50,"input",26),e.NdJ("ngModelChange",function(s){return n.ordonnateur.email=s}),e.qZA()(),e.TgZ(51,"c-col",8)(52,"label",27),e._uU(53,"Acutel :"),e.qZA(),e.TgZ(54,"select",28),e.NdJ("ngModelChange",function(s){return n.valActuel=s}),e.TgZ(55,"option",29),e._uU(56,"Choisir la r\xe9ponse"),e.qZA(),e.TgZ(57,"option",30),e._uU(58,"Oui"),e.qZA(),e.TgZ(59,"option",31),e._uU(60,"Non"),e.qZA()()()(),e.TgZ(61,"c-row")(62,"c-col",8)(63,"label",32),e._uU(64,"Debut Mandat :"),e.qZA(),e.TgZ(65,"input",33),e.NdJ("ngModelChange",function(s){return n.ordonnateur.debutMandat=s}),e.qZA()(),e.TgZ(66,"c-col",8)(67,"label",34),e._uU(68,"Fin Mandat :"),e.qZA(),e.TgZ(69,"input",35),e.NdJ("ngModelChange",function(s){return n.ordonnateur.finMandat=s}),e.qZA()()()(),e.TgZ(70,"div",36)(71,"button",37),e.NdJ("click",function(){return n.save()}),e._uU(72,"Enregistrer"),e.qZA()()()()),2&o&&(e.xp6(14),e.Q6J("ngModel",n.ordonnateur.matricule),e.xp6(4),e.Q6J("items",n.civilites)("multiple",!1)("ngModel",n.ordonnateur.civilite),e.xp6(5),e.Q6J("ngModel",n.ordonnateur.gradeMilitaire),e.xp6(4),e.Q6J("ngModel",n.ordonnateur.titreHonorifique),e.xp6(5),e.Q6J("ngModel",n.ordonnateur.nom),e.xp6(4),e.Q6J("ngModel",n.ordonnateur.prenom),e.xp6(5),e.Q6J("ngModel",n.ordonnateur.fonction),e.xp6(4),e.Q6J("ngModel",n.ordonnateur.telephone),e.xp6(5),e.Q6J("ngModel",n.ordonnateur.email),e.xp6(4),e.Q6J("ngModel",n.valActuel),e.xp6(11),e.Q6J("ngModel",n.ordonnateur.debutMandat),e.xp6(4),e.Q6J("ngModel",n.ordonnateur.finMandat))},dependencies:[a.Hq3,a.oHf,a.eFW,a.nqR,a.Yp0,a.iok,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.F,O.w9],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#538136}"]})}return i})(),Le=(()=>{class i{constructor(t){this.activeModal=t}ngOnInit(){this.ordonnateur.debutMandat=g(this.ordonnateur.debutMandat).format("DD/MM/yyyy"),this.ordonnateur.finMandat=g(this.ordonnateur.finMandat).isValid()?g(this.ordonnateur.finMandat).format("DD/MM/yyyy"):""}close(){this.activeModal.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-ordonnateur"]],decls:74,vars:12,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-sm","no-border"],[1,"modal-footer"],["cButton","","color","danger","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"D\xe9tails d'un ordonnateur"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"tbody")(11,"tr")(12,"th"),e._uU(13,"Grade Militaire"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()(),e.TgZ(16,"tr")(17,"th"),e._uU(18,"Titre Honorifique"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()(),e.TgZ(21,"tr")(22,"th"),e._uU(23,"Matricule"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA()(),e.TgZ(26,"tr")(27,"th"),e._uU(28,"Civilite"),e.qZA(),e.TgZ(29,"td"),e._uU(30),e.qZA()(),e.TgZ(31,"tr")(32,"th"),e._uU(33,"Nom"),e.qZA(),e.TgZ(34,"td"),e._uU(35),e.qZA()(),e.TgZ(36,"tr")(37,"th"),e._uU(38,"Prenom"),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA()(),e.TgZ(41,"tr")(42,"th"),e._uU(43,"Fonction"),e.qZA(),e.TgZ(44,"td"),e._uU(45),e.qZA()(),e.TgZ(46,"tr")(47,"th"),e._uU(48,"Telephone"),e.qZA(),e.TgZ(49,"td"),e._uU(50),e.qZA()(),e.TgZ(51,"tr")(52,"th"),e._uU(53,"Email"),e.qZA(),e.TgZ(54,"td"),e._uU(55),e.qZA()(),e.TgZ(56,"tr")(57,"th"),e._uU(58,"Actuel"),e.qZA(),e.TgZ(59,"td"),e._uU(60),e.qZA()(),e.TgZ(61,"tr")(62,"th"),e._uU(63,"Date de debut de mandat"),e.qZA(),e.TgZ(64,"td"),e._uU(65),e.qZA()(),e.TgZ(66,"tr")(67,"th"),e._uU(68,"Date de fin de mandat"),e.qZA(),e.TgZ(69,"td"),e._uU(70),e.qZA()()()()()(),e.TgZ(71,"div",8)(72,"button",9),e.NdJ("click",function(){return n.close()}),e._uU(73,"Fermer"),e.qZA()()()),2&o&&(e.xp6(15),e.Oqu(": "+n.ordonnateur.gradeMilitaire),e.xp6(5),e.Oqu(": "+n.ordonnateur.titreHonorifique),e.xp6(5),e.Oqu(": "+n.ordonnateur.matricule),e.xp6(5),e.Oqu(": "+n.ordonnateur.civilite),e.xp6(5),e.Oqu(": "+n.ordonnateur.nom),e.xp6(5),e.Oqu(": "+n.ordonnateur.prenom),e.xp6(5),e.Oqu(": "+n.ordonnateur.fonction),e.xp6(5),e.Oqu(": "+n.ordonnateur.telephone),e.xp6(5),e.Oqu(": "+n.ordonnateur.email),e.xp6(5),e.Oqu(n.ordonnateur.actuel?": Oui":": Non"),e.xp6(5),e.Oqu(": "+n.ordonnateur.debutMandat),e.xp6(5),e.Oqu(": "+n.ordonnateur.finMandat))},dependencies:[a.Hq3]})}return i})();function ze(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"c-col",4)(1,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openAddEditModal())}),e._uU(2,"Ajouter"),e.qZA()()}}function He(i,c){1&i&&(e.TgZ(0,"th",7),e._uU(1,"Action"),e.qZA())}function Ye(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openAddEditModal(n))}),e.O4$(),e._UZ(2,"svg",14),e.qZA(),e.kcU(),e.TgZ(3,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDetailModal(n))}),e._UZ(4,"i",16),e.qZA(),e.TgZ(5,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.confirmDeleteItem(n))}),e._UZ(6,"i",18),e.qZA()()}}function Re(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"span"),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"span"),e._uU(24),e.qZA()(),e.TgZ(25,"td")(26,"span"),e._uU(27),e.qZA()(),e.YNc(28,Ye,7,0,"td",12),e.qZA()),2&i){const t=c.$implicit,o=c.index,n=e.oxw(2);e.xp6(3),e.Oqu(o+1),e.xp6(3),e.Oqu(t.gradeMilitaire),e.xp6(3),e.Oqu(t.matricule),e.xp6(3),e.Oqu(t.civilite),e.xp6(3),e.Oqu(t.nom),e.xp6(3),e.Oqu(t.prenom),e.xp6(3),e.Oqu(t.fonction),e.xp6(3),e.Oqu(t.telephone),e.xp6(3),e.Oqu(t.titreHonorifique),e.xp6(1),e.Q6J("appHasAnyAuthority",n.droit)}}const Qe=(i,c,t)=>({itemsPerPage:i,currentPage:c,totalItems:t});function Ge(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"table",6)(2,"thead")(3,"tr")(4,"th",7),e._uU(5,"N\xb0"),e.qZA(),e.TgZ(6,"th",7),e._uU(7,"Grade Militaire"),e.qZA(),e.TgZ(8,"th",7),e._uU(9,"Matricule"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"Civilite"),e.qZA(),e.TgZ(12,"th",7),e._uU(13,"Nom"),e.qZA(),e.TgZ(14,"th",7),e._uU(15,"Prenom"),e.qZA(),e.TgZ(16,"th",7),e._uU(17,"Fonction"),e.qZA(),e.TgZ(18,"th",7),e._uU(19,"Telephone"),e.qZA(),e.TgZ(20,"th",7),e._uU(21,"Titre Honorifique"),e.qZA(),e.YNc(22,He,2,0,"th",8),e.qZA()(),e.TgZ(23,"tbody"),e.YNc(24,Re,29,10,"tr",9),e.ALo(25,"paginate"),e.qZA()(),e.TgZ(26,"div",10)(27,"pagination-controls",11),e.NdJ("pageChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(n))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("striped",!0),e.xp6(21),e.Q6J("appHasAnyAuthority",t.droit),e.xp6(2),e.Q6J("ngForOf",e.xi3(25,5,t.ordonnateurs,e.kEZ(8,Qe,t.itemsPerPage,t.page,t.totalItems))),e.xp6(3),e.s9C("previousLabel",t.previousLabel),e.s9C("nextLabel",t.nextLabel)}}function Ke(i,c){1&i&&(e.TgZ(0,"div")(1,"c-alert",19),e._uU(2,"Aucun enregistrement trouv\xe9!"),e.qZA()())}let $e=(()=>{class i{constructor(t,o,n,r){this.ordonnateurService=t,this.activatedRoute=o,this.router=n,this.modalService=r,this.totalItems=0,this.isLoading=!1,this.itemsPerPage=m.gK,this.nextLabel=m.wt,this.previousLabel=m.V$,this.predicate="idOrdonnateur",this.droit="ADD_PARAM"}ngOnInit(){this.handleNavigation()}ngOnDestroy(){console.log("Dans ben com, ngOnDestroy")}onTableDataChange(t){this.page=t,this.loadPage()}onTableSizeChange(t){this.itemsPerPage=t.target.value,this.page=1,this.loadPage()}loadPage(t,o){const n=t||this.page||1;this.ordonnateurService.query({page:n-1,size:this.itemsPerPage,sort:this.sort()}).subscribe({next:r=>{console.log("TOTAL_ITEMS_COUNT_FROM_RES_HEADER : ",r.headers.keys()),this.onSuccess(r.body,r.headers,n,!o)},error:()=>this.onError()})}handleNavigation(){(0,U.a)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([t,o])=>{this.loadPage()})}trackId(t,o){return o.idOrdonnateur}confirmDeleteItem(t){d().fire({title:"Etes-vous vraiment s\xfbr?",text:"Cette action est irr\xe9versible!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(o=>{o.isConfirmed&&(this.delete(t),d().fire({title:"Supprim\xe9!",text:"Element supprim\xe9.",icon:"success"}))})}delete(t){this.ordonnateurService.delete(t.idOrdonnateur).subscribe({next:o=>{this.loadPage()},error:o=>console.log("ERROR: ",o)})}sort(){const t=[this.predicate+","+(this.ascending?"asc":"desc")];return"idOrdonnateur"!==this.predicate&&t.push("idOrdonnateur"),t}onSuccess(t,o,n,r){this.totalItems=Number(o.get("x-total-count")),console.log("TOTAL_ITEMS =",this.totalItems),this.page=n,r&&this.router.navigate(["/parametre/ordonnateur"],{queryParams:{page:this.page,size:this.itemsPerPage,sort:this.predicate+","+(this.ascending?"asc":"desc")}}),this.ordonnateurs=t||[]}onError(){this.isLoading=!1}openAddEditModal(t){const o=this.modalService.open(Ie,{size:"lg",backdrop:"static"});null!=t?.idOrdonnateur&&(console.log("ORDONNATEUR TO EDIT : ",t),o.componentInstance.ordonnateur=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}openDetailModal(t){const o=this.modalService.open(Le,{size:"lg",backdrop:"static"});o.componentInstance.ordonnateur=t,o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(z.A),e.Y36(_.gz),e.Y36(_.F0),e.Y36(p.FF))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-ordonnateur"]],decls:9,vars:3,consts:[[1,"mb-4"],["md","10"],["md","2",4,"appHasAnyAuthority"],[4,"ngIf"],["md","2"],["cButton","","color","primary","variant","outline","size","sm",1,"float-end",3,"click"],["cTable","",3,"striped"],["scope","col"],["scope","col",4,"appHasAnyAuthority"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[3,"previousLabel","nextLabel","pageChange"],[4,"appHasAnyAuthority"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["cIcon","","name","cilPen","size","sm"],["type","button",1,"btn","btn-outline-info","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-eye"],["type","button",1,"btn","btn-outline-danger","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-remove"],["color","warning"]],template:function(o,n){1&o&&(e.TgZ(0,"c-card",0)(1,"c-card-header")(2,"c-row")(3,"c-col",1),e._uU(4," Ordonnateurs "),e.qZA(),e.YNc(5,ze,3,0,"c-col",2),e.qZA()(),e.TgZ(6,"c-card-body"),e.YNc(7,Ge,28,12,"div",3)(8,Ke,3,0,"div",3),e.qZA()()),2&o&&(e.xp6(5),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(2),e.Q6J("ngIf",n.ordonnateurs&&n.ordonnateurs.length>0),e.xp6(1),e.Q6J("ngIf",n.ordonnateurs&&0==n.ordonnateurs.length))},dependencies:[h.sg,h.O5,a.Hq3,a.AkF,a.yue,a.nkx,a.Yp0,a.iok,a.auY,C.ar,Z.LS,a.wxo,M.o,Z._s],styles:["c-card-header[_ngcontent-%COMP%]{background-color:#538136}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:large}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#538136;font-weight:700}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#538136}"]})}return i})();class H{constructor(c,t,o,n,r,s,b,A,T){this.idGrade=c,this.typeGrade=t,this.libelle=o,this.code=n,this.description=r,this.createdBy=s,this.createdDate=b,this.lastModifiedBy=A,this.lastModifiedDate=T}}let J=(()=>{class i{constructor(t){this.http=t,this.resourceUrl=F.B+"api/grades"}create(t){const o=this.convertDateFromClient(t);return this.http.post(this.resourceUrl,o,{observe:"response"}).pipe((0,f.U)(n=>this.convertDateFromServer(n)))}update(t){const o=this.convertDateFromClient(t);return this.http.put(this.resourceUrl,o,{observe:"response"}).pipe((0,f.U)(n=>this.convertDateFromServer(n)))}find(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"}).pipe((0,f.U)(o=>this.convertDateFromServer(o)))}query(t){const o=(0,k.b)(t);return this.http.get(this.resourceUrl,{params:o,observe:"response"}).pipe((0,f.U)(n=>this.convertDateArrayFromServer(n)))}delete(t){return this.http.delete(`${this.resourceUrl}/${t}`,{observe:"response"})}convertDateFromClient(t){return Object.assign({},t,{createdDate:t.createdDate&&t.createdDate.isValid()?t.createdDate.toJSON():void 0,lastModifiedDate:t.lastModifiedDate&&t.lastModifiedDate.isValid()?t.lastModifiedDate.toJSON():void 0})}convertDateFromServer(t){return t.body&&(t.body.createdDate=t.body.createdDate?g(t.body.createdDate):void 0,t.body.lastModifiedDate=t.body.lastModifiedDate?g(t.body.lastModifiedDate):void 0),t}convertDateArrayFromServer(t){return t.body&&t.body.forEach(o=>{o.createdDate=o.createdDate?g(o.createdDate):void 0,o.lastModifiedDate=o.lastModifiedDate?g(o.lastModifiedDate):void 0}),t}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(S.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var je=u(2051);let Xe=(()=>{class i{constructor(t,o,n){this.gradeService=t,this.activeModal=o,this.referentialService=n,this.isSaving=!1,this.grade=new H}ngOnInit(){this.referentialService.query().subscribe({next:t=>{this.referentials=t.body||[],console.log("REFERENTIALS : ",this.referentials)},error:t=>console.log("ERROR : ",t)})}ngOnDestroy(){}goBack(){window.history.back()}save(){console.warn("ISSAVED",this.grade),this.isSaving=!0,this.subscribeToSaveResponse(void 0!==this.grade?.idGrade?this.gradeService.update(this.grade):this.gradeService.create(this.grade))}subscribeToSaveResponse(t){t.subscribe({next:o=>{console.log("NEXT : ",o),this.onSaveSuccess()},error:()=>this.onSaveError()})}onSaveSuccess(){this.isSaving=!1,this.activeModal.close(),d().fire({position:"center",icon:"success",title:"Op\xe9ration effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:3e3}),this.goBack()}onSaveError(){this.isSaving=!1}trackById(t,o){return o.idGrade}close(){console.log("close"),this.activeModal.dismiss()}onCodeChange(t){const o=this.referentials.codesGrade.find(n=>n.valeur==t);-1!=o&&(this.grade.libelle=o.libelle)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(J),e.Y36(p.Kz),e.Y36(je.G))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-grade"]],decls:30,vars:9,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],["md","6"],["cLabel","","for","typeGrade"],["name","code","id","code","bindValue","valeur","bindLabel","libelle",3,"items","multiple","ngModel","ngModelChange"],["name","typeGrade","id","typeGrade","bindValue","valeur","bindLabel","libelle",3,"items","multiple","ngModel","ngModelChange"],["cLabel","","for","field_libelle"],["cFormControl","","sizing","sm","id","field_libelle","type","text","name","libelle",3,"ngModel","disabled","ngModelChange"],["cLabel","","for","field_description"],["cFormControl","","sizing","sm","id","field_description","type","text","name","description",3,"ngModel","ngModelChange"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Ajouter/Modifier un grade"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"form",5,6)(9,"div",7)(10,"c-row")(11,"c-col",8)(12,"label",9),e._uU(13,"Code :"),e.qZA(),e.TgZ(14,"ng-select",10),e.NdJ("ngModelChange",function(s){return n.grade.code=s})("ngModelChange",function(s){return n.onCodeChange(s)}),e.qZA()(),e.TgZ(15,"c-col",8)(16,"label",9),e._uU(17,"Type grade :"),e.qZA(),e.TgZ(18,"ng-select",11),e.NdJ("ngModelChange",function(s){return n.grade.typeGrade=s}),e.qZA()(),e.TgZ(19,"c-col",8)(20,"label",12),e._uU(21,"Libelle :"),e.qZA(),e.TgZ(22,"input",13),e.NdJ("ngModelChange",function(s){return n.grade.libelle=s}),e.qZA()(),e.TgZ(23,"c-col",8)(24,"label",14),e._uU(25,"Description :"),e.qZA(),e.TgZ(26,"textarea",15),e.NdJ("ngModelChange",function(s){return n.grade.description=s}),e.qZA()()()(),e.TgZ(27,"div",16)(28,"button",17),e.NdJ("click",function(){return n.save()}),e._uU(29,"Enregistrer"),e.qZA()()()()),2&o&&(e.xp6(14),e.Q6J("items",null==n.referentials?null:n.referentials.codesGrade)("multiple",!1)("ngModel",n.grade.code),e.xp6(4),e.Q6J("items",null==n.referentials?null:n.referentials.typeGrades)("multiple",!1)("ngModel",n.grade.typeGrade),e.xp6(4),e.Q6J("ngModel",n.grade.libelle)("disabled",!0),e.xp6(4),e.Q6J("ngModel",n.grade.description))},dependencies:[a.Hq3,a.oHf,a.eFW,a.Yp0,a.iok,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,O.w9],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#538136}"]})}return i})(),Ve=(()=>{class i{constructor(t){this.activeModal=t,this.grade=new H}ngOnInit(){}close(){console.log("close"),this.activeModal.dismiss()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-grade"]],decls:31,vars:3,consts:[[1,"card"],[1,"modal-header","bg-success","text-white"],[1,"text-center"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"table-responsive"],[1,"table","table-sm","no-border"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"D\xe9tail Grade"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"form",5,6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"table",11)(14,"tbody")(15,"tr")(16,"th"),e._uU(17,"Libelle"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Description"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"th"),e._uU(25,"type Grade"),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.qZA()()()()()()()(),e.TgZ(28,"div",12)(29,"button",13),e.NdJ("click",function(){return n.close()}),e._uU(30,"Fermer "),e.qZA()()()()),2&o&&(e.xp6(19),e.hij(": ",n.grade.libelle,""),e.xp6(4),e.hij(": ",n.grade.description,""),e.xp6(4),e.hij(": ",n.grade.typeGrade,""))},dependencies:[a.Hq3,l._Y,l.JL,l.F]})}return i})();function We(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"c-col",9)(1,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openAddEditModal())}),e._uU(2,"Ajouter"),e.qZA()()}}function et(i,c){1&i&&(e.TgZ(0,"th",4),e._uU(1,"Action"),e.qZA())}function tt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.openAddEditModal(n))}),e.O4$(),e._UZ(2,"svg",13),e.qZA(),e.kcU(),e.TgZ(3,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.openModalDetail(n))}),e._UZ(4,"i",15),e.qZA(),e.TgZ(5,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.removeGrade(n))}),e._UZ(6,"i",17),e.qZA()()}}function nt(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.YNc(13,tt,7,0,"td",11),e.qZA()),2&i){const t=c.$implicit,o=c.index,n=e.oxw();e.xp6(3),e.Oqu(o+1),e.xp6(3),e.Oqu(t.code),e.xp6(3),e.Oqu(t.typeGrade),e.xp6(3),e.Oqu(t.libelle),e.xp6(1),e.Q6J("appHasAnyAuthority",n.droit)}}let ot=(()=>{class i{constructor(t,o,n,r){this.gradeService=t,this.activatedRoute=o,this.router=n,this.modalService=r,this.totalItems=0,this.itemsPerPage=m.gK,this.ngbPaginationPage=1,this.droit="ADD_PARAM"}ngOnInit(){this.handleNavigation()}ngOnDestroy(){console.log("Dans ben com, ngOnDestroy")}loadPage(t,o){const n=t||this.page||1;this.gradeService.query({page:n-1,size:this.itemsPerPage,sort:this.sort()}).subscribe({next:r=>{this.onSuccess(r.body,r.headers,n,!o)},error:()=>this.onError()})}handleNavigation(){this.loadPage()}trackId(t,o){return o.idGrade}sort(){const t=[this.predicate+","+(this.ascending?"asc":"desc")];return"id"!==this.predicate&&t.push("id"),t}onSuccess(t,o,n,r){this.totalItems=Number(o.get("X-Total-Count")),this.page=n,r&&this.router.navigate(["/parametre/grade"],{queryParams:{page:this.page,size:this.itemsPerPage,sort:this.predicate+","+(this.ascending?"asc":"desc")}}),this.grades=t||[],this.ngbPaginationPage=this.page}onError(){this.ngbPaginationPage=this.page??1}openAddEditModal(t){const o=this.modalService.open(Xe,{size:"lg",backdrop:"static"});null!=t?.idGrade&&(o.componentInstance.grade=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}removeGrade(t){d().fire({title:"Etes-vous vraiment s\xfbr?",text:"Cette action est irr\xe9versible!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(o=>{o.isConfirmed&&this.delete(t)})}delete(t){this.gradeService.delete(t.idGrade).subscribe(()=>{this.loadPage(),d().fire({position:"center",icon:"success",title:"Suppression effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:1500})},o=>{console.error("Grade "+JSON.stringify(o))})}openModalDetail(t){const o=this.modalService.open(Ve,{size:"lg",backdrop:"static"});null!=t?.idGrade&&(o.componentInstance.grade=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(J),e.Y36(_.gz),e.Y36(_.F0),e.Y36(p.FF))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-grade"]],decls:21,vars:4,consts:[[1,"mb-4"],["md","10"],["md","2",4,"appHasAnyAuthority"],["cTable","",3,"striped"],["scope","col"],["scope","col","width","20%"],["scope","col","width","40%"],["scope","col",4,"appHasAnyAuthority"],[4,"ngFor","ngForOf"],["md","2"],["cButton","","color","primary","variant","outline","size","sm",1,"float-end",3,"click"],[4,"appHasAnyAuthority"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["cIcon","","name","cilPen","size","sm"],["type","button",1,"btn","btn-outline-info","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-eye"],["type","button",1,"btn","btn-outline-danger","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-remove"]],template:function(o,n){1&o&&(e.TgZ(0,"c-card",0)(1,"c-card-header")(2,"c-row")(3,"c-col",1),e._uU(4," Grades et Dignit\xe9s "),e.qZA(),e.YNc(5,We,3,0,"c-col",2),e.qZA()(),e.TgZ(6,"c-card-body")(7,"table",3)(8,"thead")(9,"tr")(10,"th",4),e._uU(11,"N\xb0"),e.qZA(),e.TgZ(12,"th",5),e._uU(13,"Code"),e.qZA(),e.TgZ(14,"th",5),e._uU(15,"Type"),e.qZA(),e.TgZ(16,"th",6),e._uU(17,"D\xe9signation"),e.qZA(),e.YNc(18,et,2,0,"th",7),e.qZA()(),e.TgZ(19,"tbody"),e.YNc(20,nt,14,5,"tr",8),e.qZA()()()()),2&o&&(e.xp6(5),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(2),e.Q6J("striped",!0),e.xp6(11),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(2),e.Q6J("ngForOf",n.grades))},dependencies:[h.sg,a.Hq3,a.AkF,a.yue,a.nkx,a.Yp0,a.iok,a.auY,C.ar,M.o],styles:["c-card-header[_ngcontent-%COMP%]{background-color:#538136}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:large}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#538136;font-weight:700}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#538136}"]})}return i})();class it{constructor(c,t,o,n,r,s,b,A,T){this.idMagasin=c,this.nomMagasin=t,this.capacite=o,this.description=n,this.depot=r,this.createdBy=s,this.createdDate=b,this.lastModifiedBy=A,this.lastModifiedDate=T}}var Y=u(9705);function rt(i,c){if(1&i&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&i){const t=c.$implicit;e.Q6J("ngValue",t.idDepot),e.xp6(1),e.Oqu(t.nomDepot)}}let at=(()=>{class i{constructor(t,o,n){this.magasinService=t,this.activeModal=o,this.depotService=n,this.isSaving=!1,this.magasin=new it}ngOnInit(){this.magasin&&(this.selectedDepotId=this.magasin.depot?.idDepot),this.depotService.query().subscribe({next:t=>{this.depots=t.body||[]},error:t=>console.log("ERROR : ",t)})}ngOnDestroy(){}goBack(){window.history.back()}save(){this.magasin.depot=this.depots?.find(t=>t.idDepot===this.selectedDepotId),this.isSaving=!0,this.subscribeToSaveResponse(void 0!==this.magasin?.idMagasin?this.magasinService.update(this.magasin):this.magasinService.create(this.magasin))}subscribeToSaveResponse(t){t.subscribe({next:o=>{console.log("NEXT : ",o),this.onSaveSuccess()},error:()=>this.onSaveError()})}onSaveSuccess(){this.isSaving=!1,this.activeModal.close(),this.goBack(),d().fire({position:"center",icon:"success",title:"Op\xe9ration effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:3e3})}onSaveError(){this.isSaving=!1}trackById(t,o){return o.idMagasin}close(){console.log("close"),this.activeModal.dismiss()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(Y.D),e.Y36(p.Kz),e.Y36(w))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-magasin"]],decls:31,vars:5,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],["md","6"],["cLabel","","for","field_nomMagasin"],["cFormControl","","sizing","sm","id","field_nomMagasin","type","text","name","nomMagasin",3,"ngModel","ngModelChange"],["md","3"],["cLabel","","for","field_capacite"],["cFormControl","","sizing","sm","id","field_capacite","type","text","name","capacite",3,"ngModel","ngModelChange"],["cLabel","","for","field_depot"],["aria-label","Small select example","cSelect","","sizing","sm","name","depot","id","field_depot",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["cLabel","","for","field_description"],["cFormControl","","sizing","sm","id","field_description","type","text","name","description",3,"ngModel","ngModelChange"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"click"],[3,"ngValue"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Ajouter/Modifier un magasin"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"form",5,6)(9,"div",7)(10,"c-row")(11,"c-col",8)(12,"label",9),e._uU(13,"Nom* :"),e.qZA(),e.TgZ(14,"input",10),e.NdJ("ngModelChange",function(s){return n.magasin.nomMagasin=s}),e.qZA()(),e.TgZ(15,"c-col",11)(16,"label",12),e._uU(17,"Capacite :"),e.qZA(),e.TgZ(18,"input",13),e.NdJ("ngModelChange",function(s){return n.magasin.capacite=s}),e.qZA()(),e.TgZ(19,"c-col",11)(20,"label",14),e._uU(21,"D\xe9pot* :"),e.qZA(),e.TgZ(22,"select",15),e.NdJ("ngModelChange",function(s){return n.selectedDepotId=s}),e.YNc(23,rt,2,2,"option",16),e.qZA()()(),e.TgZ(24,"c-row")(25,"label",17),e._uU(26,"Description :"),e.qZA(),e.TgZ(27,"input",18),e.NdJ("ngModelChange",function(s){return n.magasin.description=s}),e.qZA()()(),e.TgZ(28,"div",19)(29,"button",20),e.NdJ("click",function(){return n.save()}),e._uU(30,"Enregistrer"),e.qZA()()()()),2&o&&(e.xp6(14),e.Q6J("ngModel",n.magasin.nomMagasin),e.xp6(4),e.Q6J("ngModel",n.magasin.capacite),e.xp6(4),e.Q6J("ngModel",n.selectedDepotId),e.xp6(1),e.Q6J("ngForOf",n.depots),e.xp6(4),e.Q6J("ngModel",n.magasin.description))},dependencies:[h.sg,a.Hq3,a.oHf,a.eFW,a.nqR,a.Yp0,a.iok,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.On,l.F],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#538136}"]})}return i})(),st=(()=>{class i{constructor(t){this.activeModal=t}close(){this.activeModal.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-magasin"]],decls:29,vars:3,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table-responsive"],[1,"table","table-sm","no-border"],[1,"modal-footer"],["cButton","","color","danger","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"D\xe9tails d'un magasin"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"table",7)(10,"tbody")(11,"tr")(12,"th"),e._uU(13,"Nom"),e.qZA(),e.TgZ(14,"td"),e._uU(15),e.qZA()(),e.TgZ(16,"tr")(17,"th"),e._uU(18,"Capacite"),e.qZA(),e.TgZ(19,"td"),e._uU(20),e.qZA()(),e.TgZ(21,"tr")(22,"th"),e._uU(23,"D\xe9pot"),e.qZA(),e.TgZ(24,"td"),e._uU(25),e.qZA()()()()()(),e.TgZ(26,"div",8)(27,"button",9),e.NdJ("click",function(){return n.close()}),e._uU(28,"Fermer"),e.qZA()()()),2&o&&(e.xp6(15),e.Oqu(": "+n.magasin.nomMagasin),e.xp6(5),e.Oqu(": "+n.magasin.capacite),e.xp6(5),e.Oqu(": "+(null==n.magasin.depot?null:n.magasin.depot.nomDepot)))},dependencies:[a.Hq3]})}return i})();function ct(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"c-col",4)(1,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openAddEditModal())}),e._uU(2,"Ajouter"),e.qZA()()}}function lt(i,c){1&i&&(e.TgZ(0,"th",7),e._uU(1,"Action"),e.qZA())}function dt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",13),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openAddEditModal(n))}),e.O4$(),e._UZ(2,"svg",14),e.qZA(),e.kcU(),e.TgZ(3,"button",15),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.openDetailModal(n))}),e._UZ(4,"i",16),e.qZA(),e.TgZ(5,"button",17),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw(2);return e.KtG(r.confirmDeleteItem(n))}),e._UZ(6,"i",18),e.qZA()()}}function ut(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.YNc(16,dt,7,0,"td",12),e.qZA()),2&i){const t=c.$implicit,o=c.index,n=e.oxw(2);e.xp6(3),e.Oqu(o+1),e.xp6(3),e.Oqu(t.nomMagasin),e.xp6(3),e.Oqu(t.capacite),e.xp6(3),e.Oqu(null==t.depot?null:t.depot.nomDepot),e.xp6(3),e.Oqu(t.description),e.xp6(1),e.Q6J("appHasAnyAuthority",n.droit)}}const pt=(i,c,t)=>({itemsPerPage:i,currentPage:c,totalItems:t});function gt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"table",6)(2,"thead")(3,"tr")(4,"th",7),e._uU(5,"N\xb0"),e.qZA(),e.TgZ(6,"th",7),e._uU(7,"Libell\xe9"),e.qZA(),e.TgZ(8,"th",7),e._uU(9,"Capacite"),e.qZA(),e.TgZ(10,"th",7),e._uU(11,"D\xe9pot"),e.qZA(),e.TgZ(12,"th",7),e._uU(13,"Description"),e.qZA(),e.YNc(14,lt,2,0,"th",8),e.qZA()(),e.TgZ(15,"tbody"),e.YNc(16,ut,17,6,"tr",9),e.ALo(17,"paginate"),e.qZA()(),e.TgZ(18,"div",10)(19,"pagination-controls",11),e.NdJ("pageChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.onTableDataChange(n))}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("striped",!0),e.xp6(13),e.Q6J("appHasAnyAuthority",t.droit),e.xp6(2),e.Q6J("ngForOf",e.xi3(17,5,t.magasins,e.kEZ(8,pt,t.itemsPerPage,t.page,t.totalItems))),e.xp6(3),e.s9C("previousLabel",t.previousLabel),e.s9C("nextLabel",t.nextLabel)}}function _t(i,c){1&i&&(e.TgZ(0,"div")(1,"c-alert",19),e._uU(2,"Aucun enregistrement trouv\xe9!"),e.qZA()())}let mt=(()=>{class i{constructor(t,o,n,r){this.magasinService=t,this.activatedRoute=o,this.router=n,this.modalService=r,this.totalItems=0,this.isLoading=!1,this.itemsPerPage=m.gK,this.nextLabel=m.wt,this.previousLabel=m.V$,this.predicate="idMagasin",this.droit="ADD_PARAM"}ngOnInit(){this.handleNavigation()}ngOnDestroy(){console.log("Dans ben com, ngOnDestroy")}onTableDataChange(t){this.page=t,this.loadPage()}onTableSizeChange(t){this.itemsPerPage=t.target.value,this.page=1,this.loadPage()}loadPage(t,o){const n=t||this.page||1;this.magasinService.query({page:n-1,size:this.itemsPerPage,sort:this.sort()}).subscribe({next:r=>{console.log("TOTAL_ITEMS_COUNT_FROM_RES_HEADER : ",r.headers.keys()),this.onSuccess(r.body,r.headers,n,!o)},error:()=>this.onError()})}handleNavigation(){(0,U.a)([this.activatedRoute.data,this.activatedRoute.queryParamMap]).subscribe(([t,o])=>{this.loadPage()})}trackId(t,o){return o.idMagasin}confirmDeleteItem(t){d().fire({title:"Etes-vous vraiment s\xfbr?",text:"Cette action est irr\xe9versible!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(o=>{o.isConfirmed&&(this.delete(t),d().fire({title:"Supprim\xe9!",text:"Element supprim\xe9.",icon:"success"}))})}delete(t){this.magasinService.delete(t.idMagasin).subscribe({next:o=>{this.loadPage()},error:o=>console.log("ERROR: ",o)})}sort(){const t=[this.predicate+","+(this.ascending?"asc":"desc")];return"idMagasin"!==this.predicate&&t.push("idMagasin"),t}onSuccess(t,o,n,r){this.totalItems=Number(o.get("x-total-count")),console.log("TOTAL_ITEMS =",this.totalItems),this.page=n,r&&this.router.navigate(["/parametre/magasin"],{queryParams:{page:this.page,size:this.itemsPerPage,sort:this.predicate+","+(this.ascending?"asc":"desc")}}),this.magasins=t||[]}onError(){this.isLoading=!1}openAddEditModal(t){const o=this.modalService.open(at,{size:"lg",backdrop:"static"});null!=t?.idMagasin&&(o.componentInstance.magasin=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}openDetailModal(t){const o=this.modalService.open(st,{size:"lg",backdrop:"static"});o.componentInstance.magasin=t,o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(Y.D),e.Y36(_.gz),e.Y36(_.F0),e.Y36(p.FF))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-magasin"]],decls:9,vars:3,consts:[[1,"mb-4"],["md","10"],["md","2",4,"appHasAnyAuthority"],[4,"ngIf"],["md","2"],["cButton","","color","primary","variant","outline","size","sm",1,"float-end",3,"click"],["cTable","",3,"striped"],["scope","col"],["scope","col",4,"appHasAnyAuthority"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end"],[3,"previousLabel","nextLabel","pageChange"],[4,"appHasAnyAuthority"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["cIcon","","name","cilPen","size","sm"],["type","button",1,"btn","btn-outline-info","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-eye"],["type","button",1,"btn","btn-outline-danger","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-remove"],["color","warning"]],template:function(o,n){1&o&&(e.TgZ(0,"c-card",0)(1,"c-card-header")(2,"c-row")(3,"c-col",1),e._uU(4," Magasins de stockage des m\xe9dailles "),e.qZA(),e.YNc(5,ct,3,0,"c-col",2),e.qZA()(),e.TgZ(6,"c-card-body"),e.YNc(7,gt,20,12,"div",3)(8,_t,3,0,"div",3),e.qZA()()),2&o&&(e.xp6(5),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(2),e.Q6J("ngIf",n.magasins&&n.magasins.length>0),e.xp6(1),e.Q6J("ngIf",n.magasins&&0==n.magasins.length))},dependencies:[h.sg,h.O5,a.Hq3,a.AkF,a.yue,a.nkx,a.Yp0,a.iok,a.auY,C.ar,Z.LS,a.wxo,M.o,Z._s],styles:["c-card-header[_ngcontent-%COMP%]{background-color:#538136}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:large}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#538136;font-weight:700}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#538136}"]})}return i})();class R{constructor(c,t,o,n,r,s,b,A,T,y,D,x,P,E){this.idMedaille=c,this.nomComplet=t,this.code=o,this.stock=n,this.lienImage=r,this.description=s,this.horsUsage=b,this.distinction=A,this.grade=T,this.createdBy=y,this.createdDate=D,this.lastModifiedBy=x,this.lastModifiedDate=P,this.image=E,this.horsUsage=b}}let Q=(()=>{class i{constructor(t){this.http=t,this.resourceUrl=F.B+"api/medailles"}create(t){const o=this.convertDateFromClient(t);return this.http.post(this.resourceUrl,o,{observe:"response"}).pipe((0,f.U)(n=>this.convertDateFromServer(n)))}update(t){const o=this.convertDateFromClient(t);return this.http.put(this.resourceUrl,o,{observe:"response"}).pipe((0,f.U)(n=>this.convertDateFromServer(n)))}createMedailleWithImage(t,o){const n=new FormData;return n.append("photo",t),n.append("data",new Blob([JSON.stringify(o)],{type:"application/json"})),this.http.post(this.resourceUrl,n).pipe((0,f.U)(r=>r))}updateGlobal(t,o){const n=new FormData;return n.append("photo",t),n.append("data",new Blob([JSON.stringify(o)],{type:"application/json"})),this.http.post(this.resourceUrl+"/update/global",n).pipe((0,f.U)(r=>r))}find(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"}).pipe((0,f.U)(o=>this.convertDateFromServer(o)))}query(t){const o=(0,k.b)(t);return this.http.get(this.resourceUrl,{params:o,observe:"response"}).pipe((0,f.U)(n=>this.convertDateArrayFromServer(n)))}delete(t){return this.http.delete(`${this.resourceUrl}/${t}`,{observe:"response"})}convertDateFromClient(t){return Object.assign({},t,{createdDate:t.createdDate&&t.createdDate.isValid()?t.createdDate.toJSON():void 0,lastModifiedDate:t.lastModifiedDate&&t.lastModifiedDate.isValid()?t.lastModifiedDate.toJSON():void 0})}convertDateFromServer(t){return t.body&&(t.body.createdDate=t.body.createdDate?g(t.body.createdDate):void 0,t.body.lastModifiedDate=t.body.lastModifiedDate?g(t.body.lastModifiedDate):void 0),t}convertDateArrayFromServer(t){return t.body&&t.body.forEach(o=>{o.createdDate=o.createdDate?g(o.createdDate):void 0,o.lastModifiedDate=o.lastModifiedDate?g(o.lastModifiedDate):void 0}),t}getByte(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"})}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(S.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),N=(()=>{class i{constructor(t){this.http=t,this.resourceUrl=F.B+"api/distinctions"}create(t){const o=this.convertDateFromClient(t);return this.http.post(this.resourceUrl,o,{observe:"response"}).pipe((0,f.U)(n=>this.convertDateFromServer(n)))}update(t){const o=this.convertDateFromClient(t);return this.http.put(this.resourceUrl,o,{observe:"response"}).pipe((0,f.U)(n=>this.convertDateFromServer(n)))}find(t){return this.http.get(`${this.resourceUrl}/${t}`,{observe:"response"}).pipe((0,f.U)(o=>this.convertDateFromServer(o)))}query(t){const o=(0,k.b)(t);return this.http.get(this.resourceUrl,{params:o,observe:"response"}).pipe((0,f.U)(n=>this.convertDateArrayFromServer(n)))}delete(t){return this.http.delete(`${this.resourceUrl}/${t}`,{observe:"response"})}convertDateFromClient(t){return Object.assign({},t,{createdDate:t.createdDate&&t.createdDate.isValid()?t.createdDate.toJSON():void 0,lastModifiedDate:t.lastModifiedDate&&t.lastModifiedDate.isValid()?t.lastModifiedDate.toJSON():void 0})}convertDateFromServer(t){return t.body&&(t.body.createdDate=t.body.createdDate?g(t.body.createdDate):void 0,t.body.lastModifiedDate=t.body.lastModifiedDate?g(t.body.lastModifiedDate):void 0),t}convertDateArrayFromServer(t){return t.body&&t.body.forEach(o=>{o.createdDate=o.createdDate?g(o.createdDate):void 0,o.lastModifiedDate=o.lastModifiedDate?g(o.lastModifiedDate):void 0}),t}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(S.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),ht=(()=>{class i{constructor(t,o,n,r){this.medailleService=t,this.activeModal=o,this.gradeService=n,this.distinctionService=r,this.medaille=new R,this.grades=[],this.distinctions=[],this.file=null}ngOnInit(){this.loadAllGrades(),this.loadAlldistinctions()}saveOrUpdate(){this.medaille.idMedaille?this.medailleService.updateGlobal(this.file,this.medaille).subscribe({next:()=>{d().fire({position:"center",icon:"success",title:"Modification effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:3e3}),this.activeModal.close(!0)},error:t=>{console.error("error"+JSON.stringify(t)),d().fire({position:"center",icon:"warning",title:"Une erreur est survenue",showConfirmButton:!1,timer:1500})}}):this.medailleService.createMedailleWithImage(this.file,this.medaille).subscribe({next:()=>{d().fire({position:"center",icon:"success",title:"Enregistre effectu\xe9e avec succ\xe8s lors de l'ajout",showConfirmButton:!1,timer:1500}),this.activeModal.close(!0)},error:t=>{console.error("error"+JSON.stringify(t)),d().fire({position:"center",icon:"warning",title:"Une erreur est survenue lors de l'enregistrement",showConfirmButton:!1,timer:1500})}})}onChange(t){const o=t.target.files[0];o&&(this.file=o,console.warn("file",o))}close(){console.log("close"),this.activeModal.dismiss()}loadAllGrades(){this.gradeService.query().subscribe({next:t=>{t&&t.body&&(this.grades=t.body||[])}})}loadAlldistinctions(){this.distinctionService.query().subscribe({next:t=>{t&&t.body&&(this.distinctions=t.body||[])}})}changeStatus(t){console.warn("statut",t.returnValue)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(Q),e.Y36(p.Kz),e.Y36(J),e.Y36(N))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-update-medaille"]],decls:32,vars:8,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],["md","6"],["cLabel","","for","grade"],["name","grade","id","grade","bindLabel","libelle",3,"items","multiple","ngModel","ngModelChange"],["cLabel","","for","distinc"],["required","","name","distinc","bindLabel","libelle","id","distinc",3,"items","multiple","ngModel","ngModelChange"],["md","12"],["cLabel","","for","description"],["cFormControl","","id","description","rows","3","name","description",3,"ngModel","ngModelChange"],["md","8",1,"mt-4"],["cLabel","","for","catalogue"],["type","file","required","","name","catalogue","id","catalogue",1,"file-input",3,"change"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"disabled","click"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Ajouter/Modifier une m\xe9daille"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"form",5,6)(9,"div",7)(10,"c-row")(11,"c-col",8)(12,"label",9),e._uU(13,"Grade :"),e.qZA(),e.TgZ(14,"ng-select",10),e.NdJ("ngModelChange",function(s){return n.medaille.grade=s}),e.qZA()(),e.TgZ(15,"c-col",8)(16,"label",11),e._uU(17,"Distinction* :"),e.qZA(),e.TgZ(18,"ng-select",12),e.NdJ("ngModelChange",function(s){return n.medaille.distinction=s}),e.qZA()()(),e.TgZ(19,"c-row")(20,"c-col",13)(21,"label",14),e._uU(22,"Description :"),e.qZA(),e.TgZ(23,"textarea",15),e.NdJ("ngModelChange",function(s){return n.medaille.description=s}),e.qZA()()(),e.TgZ(24,"c-row")(25,"c-col",16)(26,"label",17),e._uU(27,"Photo catalogue : "),e.qZA(),e.TgZ(28,"input",18),e.NdJ("change",function(s){return n.onChange(s)}),e.qZA()()()(),e.TgZ(29,"div",19)(30,"button",20),e.NdJ("click",function(){return n.saveOrUpdate()}),e._uU(31,"Enregistrer"),e.qZA()()()()),2&o){const r=e.MAs(8);e.xp6(14),e.Q6J("items",n.grades)("multiple",!1)("ngModel",n.medaille.grade),e.xp6(4),e.Q6J("items",n.distinctions)("multiple",!1)("ngModel",n.medaille.distinction),e.xp6(5),e.Q6J("ngModel",n.medaille.description),e.xp6(7),e.Q6J("disabled",r.invalid||!n.medaille.idMedaille&&null==n.file)}},dependencies:[a.Hq3,a.oHf,a.eFW,a.Yp0,a.iok,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F,O.w9]})}return i})(),ft=(()=>{class i{constructor(t){this.activeModal=t,this.medaille=new R}ngOnInit(){}close(){console.log("close"),this.activeModal.dismiss()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-medaille"]],decls:57,vars:7,consts:[[1,"card"],[1,"modal-header","text-white",2,"background-color","#538136"],[1,"justify-content-center"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"mb-3","p-2",2,"border","solid 1.5px","border-radius","3px"],["cLabel","col",1,"pt-0"],[1,"table-responsive"],[1,"table","table-sm","no-border"],[1,"mb-3","p-2",2,"border","solid 1.5px","border-radius","3px","height","250px"],["alt","",2,"height","220px",3,"src"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2)(3,"span",2),e._uU(4,"D\xe9tail de la medaille"),e.qZA()(),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(6,"span",4),e._uU(7,"\xd7"),e.qZA()()(),e.TgZ(8,"form",5,6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"fieldset",10)(14,"legend",11),e._uU(15,"Information du profil"),e.qZA(),e.TgZ(16,"div",12)(17,"table",13)(18,"tbody")(19,"tr")(20,"th"),e._uU(21,"Libelle"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Distinction"),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.qZA(),e.TgZ(28,"th"),e._uU(29,"Grade"),e.qZA(),e.TgZ(30,"td"),e._uU(31),e.qZA()(),e.TgZ(32,"tr")(33,"th"),e._uU(34,"Description"),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Quantite"),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.qZA(),e.TgZ(41,"th"),e._uU(42,"Code"),e.qZA(),e.TgZ(43,"td"),e._uU(44),e.qZA()()()()()()()(),e.TgZ(45,"div",8)(46,"div",9)(47,"fieldset",14)(48,"legend",11),e._uU(49,"PHOTO catalogue"),e.qZA(),e.TgZ(50,"div",12)(51,"table",13)(52,"tbody"),e._UZ(53,"img",15),e.qZA()()()()()()(),e.TgZ(54,"div",16)(55,"button",17),e.NdJ("click",function(){return n.close()}),e._uU(56,"Fermer "),e.qZA()()()()),2&o&&(e.xp6(23),e.hij(": ",n.medaille.nomComplet,""),e.xp6(4),e.hij(": ",null==n.medaille.distinction?null:n.medaille.distinction.libelle,""),e.xp6(4),e.hij(": ",null==n.medaille.grade?null:n.medaille.grade.libelle,""),e.xp6(5),e.hij(": ",n.medaille.description,""),e.xp6(4),e.hij(": ",n.medaille.stock,""),e.xp6(4),e.hij(": ",n.medaille.code,""),e.xp6(9),e.s9C("src","data:image/jpeg;base64,"+n.medaille.image,e.LSH))},dependencies:[a.Hq3,a.eFW,l._Y,l.JL,l.F],styles:["c-card-header[_ngcontent-%COMP%]{background-color:#538136}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:large}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#538136;font-weight:700}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#538136}"]})}return i})();function bt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"c-col",4)(1,"button",5),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openAddEditModal())}),e._uU(2,"Ajouter"),e.qZA()()}}function Zt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.openAddEditModal(n))}),e._UZ(2,"i",15),e.qZA(),e.TgZ(3,"button",16),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.openModalDetail(n))}),e._UZ(4,"i",17),e.qZA(),e.TgZ(5,"button",18),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.removeMedaille(n))}),e._UZ(6,"i",19),e.qZA()()}}function At(i,c){if(1&i&&(e.TgZ(0,"c-col",6)(1,"ul")(2,"li",7),e._UZ(3,"img",8),e.YNc(4,Zt,7,0,"div",9),e.TgZ(5,"button",10)(6,"span",11),e._uU(7),e.qZA(),e._uU(8," : "),e.TgZ(9,"span",12),e._uU(10),e.qZA()()()()()),2&i){const t=c.$implicit,o=e.oxw();e.xp6(3),e.s9C("src","data:image/jpeg;base64,"+t.image,e.LSH),e.xp6(1),e.Q6J("appHasAnyAuthority",o.droit),e.xp6(3),e.AsE("",t.code," | ",t.nomComplet,""),e.xp6(3),e.Oqu(t.stock)}}let Tt=(()=>{class i{constructor(t,o,n){this.medailleService=t,this.modalService=o,this.router=n,this.totalItems=0,this.itemsPerPage=m.gK,this.predicate="idMedaille",this.ngbPaginationPage=1,this.droit="ADD_PARAM"}ngOnInit(){this.handleNavigation()}ngOnDestroy(){console.log("Dans ben com, ngOnDestroy")}loadPage(t,o){const n=t||this.page||1;this.medailleService.query({page:n-1,size:this.itemsPerPage,sort:this.sort()}).subscribe({next:r=>{this.onSuccess(r.body,r.headers,n,!o)},error:()=>this.onError()})}handleNavigation(){this.loadPage()}trackId(t,o){return o.idMedaille}sort(){const t=[this.predicate+","+(this.ascending?"asc":"desc")];return"idMedaille"!==this.predicate&&t.push("idMedaille"),t}onSuccess(t,o,n,r){this.totalItems=Number(o.get("X-Total-Count")),this.page=n,r&&this.router.navigate(["/parametre/medaille"],{queryParams:{page:this.page,size:this.itemsPerPage,sort:this.predicate+","+(this.ascending?"asc":"desc")}}),this.medailles=t||[],console.warn("Medailles",this.medailles),this.ngbPaginationPage=this.page}onError(){this.ngbPaginationPage=this.page??1}openAddEditModal(t){const o=this.modalService.open(ht,{size:"lg",backdrop:"static"});null!=t?.idMedaille&&(o.componentInstance.medaille=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}openModalDetail(t){const o=this.modalService.open(ft,{size:"lg",backdrop:"static"});null!=t?.idMedaille&&(o.componentInstance.medaille=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}removeMedaille(t){d().fire({title:"Etes-vous vraiment s\xfbr?",text:"Cette action est irr\xe9versible!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(o=>{o.isConfirmed&&this.delete(t)})}showToast(t){d().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:n=>{n.onmouseenter=d().stopTimer,n.onmouseleave=d().resumeTimer}}).fire({icon:"success",title:t})}delete(t){this.medailleService.delete(t.idMedaille).subscribe(()=>{this.loadPage(),d().fire({position:"center",icon:"success",title:"Suppression effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:1500})},o=>{console.error("medaille "+JSON.stringify(o)),this.showToast(o.error.msg)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(Q),e.Y36(p.FF),e.Y36(_.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-medaille"]],decls:10,vars:2,consts:[[1,"mb-4"],["md","10",1,"text-center","text-white"],["md","2",4,"appHasAnyAuthority"],["md","3",4,"ngFor","ngForOf"],["md","2"],["cButton","","color","primary","variant","outline","size","sm",1,"float-end",3,"click"],["md","3"],[1,"card",2,"height","400px"],["alt","",2,"width","100%","height","100%",3,"src"],["class","mt-4",4,"appHasAnyAuthority"],["type","button",1,"btn","btn-outline-dark","mt-4","text-start"],[2,"font-size","10px"],[1,"badge","badge-light",2,"color","orangered","font-weight","bold","font-size","16px"],[1,"mt-4"],["title","Modifier medaille",1,"",3,"click"],["aria-hidden","true",1,"fa","fa","fa-pencil",2,"color","orange","margin-right","12px"],["title","Detail medaille",1,"",3,"click"],["aria-hidden","true",1,"fa","fa","fa-eye",2,"color","green","margin-right","12px"],["title","Supprimer medaille",1,"",3,"click"],["aria-hidden","true",1,"fa","fa","fa-remove",2,"color","orangered","margin-right","12px"]],template:function(o,n){1&o&&(e.TgZ(0,"c-card",0)(1,"c-card-header")(2,"c-row")(3,"c-col",1)(4,"h2"),e._uU(5,"M\xe9dailles"),e.qZA()(),e.YNc(6,bt,3,0,"c-col",2),e.qZA()(),e.TgZ(7,"c-card-body")(8,"c-row"),e.YNc(9,At,11,5,"c-col",3),e.qZA()()()),2&o&&(e.xp6(6),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(3),e.Q6J("ngForOf",n.medailles))},dependencies:[h.sg,a.Hq3,a.AkF,a.yue,a.nkx,a.Yp0,a.iok,M.o],styles:["c-card-header[_ngcontent-%COMP%]{background-color:#538136}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:large}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#538136;font-weight:700}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#538136}.card[_ngcontent-%COMP%]{background-color:#f8f7f4;border-radius:.5rem;box-shadow:.1rem .4rem .3rem -.03rem #000c;padding-bottom:1rem;overflow:hidden}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:.5rem .5rem 0 0;width:50%;object-fit:cover;max-height:max(8rem,30vh);aspect-ratio:4/3;mix-blend-mode:var(--card-blend-mode)}.card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] ~ *[_ngcontent-%COMP%]{margin-left:1rem;margin-right:1rem}.card[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:0}*[_ngcontent-%COMP%]{box-sizing:border-box}body[_ngcontent-%COMP%]{display:grid;place-content:center;justify-items:center;min-height:80vh;margin:0;padding:1rem;line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,Ubuntu,roboto,noto,segoe ui,arial,sans-serif;color:#444;background-color:#e1faf1}.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:1rem;font-size:1.25rem}.card[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit}.card-wrapper[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:grid;grid-template-columns:repeat(auto-fit,minmax(30ch,1fr));grid-gap:1.5rem;max-width:100vw;width:120ch;padding-left:1rem;padding-right:1rem}"]})}return i})();class G{constructor(c,t,o,n,r,s,b,A,T,y,D,x){this.idDistinction=c,this.code=t,this.abreviation=o,this.libelle=n,this.categoryDistinction=r,this.referenceDecret=s,this.dateDecretCreation=b,this.description=A,this.createdBy=T,this.createdDate=y,this.lastModifiedBy=D,this.lastModifiedDate=x}}let vt=(()=>{class i{constructor(t,o){this.distinctionService=t,this.activeModal=o,this.isSaving=!1,this.distinction=new G,this.categoryDistinctions=["Ordres nationaux","Ordres sp\xe9cifiques","M\xe9dailles"]}ngOnInit(){}ngOnDestroy(){}goBack(){window.history.back()}save(){console.warn("DISTINCTION",this.distinction),this.isSaving=!0,this.subscribeToSaveResponse(void 0!==this.distinction?.idDistinction?this.distinctionService.update(this.distinction):this.distinctionService.create(this.distinction))}subscribeToSaveResponse(t){t.subscribe({next:o=>{console.log("NEXT : ",o),this.onSaveSuccess()},error:()=>this.onSaveError()})}onSaveSuccess(){this.isSaving=!1,this.activeModal.close(),this.goBack(),d().fire({position:"center",icon:"success",title:"Op\xe9ration effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:3e3})}onSaveError(){this.isSaving=!1}trackById(t,o){return o.idDistinction}close(){console.log("close"),this.activeModal.dismiss()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(N),e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-edit-distinction"]],decls:45,vars:9,consts:[[1,"card"],[1,"modal-header","text-white"],[1,"modal-tile"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],["md","6"],["cLabel","","for","field_code"],["cFormControl","","sizing","sm","id","field_code","type","text","name","code",3,"ngModel","ngModelChange"],["cLabel","","for","field_abreviation"],["cFormControl","","sizing","sm","id","field_abreviation","type","text","name","abreviation",3,"ngModel","ngModelChange"],["cLabel","","for","field_libelle"],["cFormControl","","sizing","sm","id","field_libelle","type","text","name","libelle",3,"ngModel","ngModelChange"],["cLabel","","for","field_categoryDistinction"],["name","categoryDistinctions","id","field_categoryDistinction",3,"items","multiple","ngModel","ngModelChange"],["cLabel","","for","field_referenceDecret"],["cFormControl","","sizing","sm","id","field_referenceDecret","type","text","name","referenceDecret",3,"ngModel","ngModelChange"],["cLabel","","for","field_dateDecretCreation"],["cFormControl","","sizing","sm","id","field_dateDecretCreation","type","date","name","dateDecretCreation",3,"ngModel","ngModelChange"],["cLabel","","for","field_description"],["cFormControl","","sizing","sm","iD","field_description","type","text","name","description"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"Ajouter/Modifier une distinction"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"X"),e.qZA()()(),e.TgZ(7,"form",5,6)(9,"div",7)(10,"c-row")(11,"c-col",8)(12,"label",9),e._uU(13,"Code* :"),e.qZA(),e.TgZ(14,"input",10),e.NdJ("ngModelChange",function(s){return n.distinction.code=s}),e.qZA()(),e.TgZ(15,"c-col",8)(16,"label",11),e._uU(17,"Abreviation :"),e.qZA(),e.TgZ(18,"input",12),e.NdJ("ngModelChange",function(s){return n.distinction.abreviation=s}),e.qZA()()(),e.TgZ(19,"c-row")(20,"c-col",8)(21,"label",13),e._uU(22,"D\xe9signation* :"),e.qZA(),e.TgZ(23,"input",14),e.NdJ("ngModelChange",function(s){return n.distinction.libelle=s}),e.qZA()(),e.TgZ(24,"c-col",8)(25,"label",15),e._uU(26,"Cat\xe9gorie de distinction* :"),e.qZA(),e.TgZ(27,"ng-select",16),e.NdJ("ngModelChange",function(s){return n.distinction.categoryDistinction=s}),e.qZA()()(),e.TgZ(28,"c-row")(29,"c-col",8)(30,"label",17),e._uU(31,"Reference D\xe9cret :"),e.qZA(),e.TgZ(32,"input",18),e.NdJ("ngModelChange",function(s){return n.distinction.referenceDecret=s}),e.qZA()(),e.TgZ(33,"c-col",8)(34,"label",19),e._uU(35,"Date du d\xe9cret :"),e.qZA(),e.TgZ(36,"input",20),e.NdJ("ngModelChange",function(s){return n.distinction.dateDecretCreation=s}),e.qZA()()(),e.TgZ(37,"c-row")(38,"label",21),e._uU(39,"Description :"),e.qZA(),e.TgZ(40,"textarea",22),e._uU(41),e.qZA()()(),e.TgZ(42,"div",23)(43,"button",24),e.NdJ("click",function(){return n.save()}),e._uU(44,"Enregistrer"),e.qZA()()()()),2&o&&(e.xp6(14),e.Q6J("ngModel",n.distinction.code),e.xp6(4),e.Q6J("ngModel",n.distinction.abreviation),e.xp6(5),e.Q6J("ngModel",n.distinction.libelle),e.xp6(4),e.Q6J("items",n.categoryDistinctions)("multiple",!1)("ngModel",n.distinction.categoryDistinction),e.xp6(5),e.Q6J("ngModel",n.distinction.referenceDecret),e.xp6(4),e.Q6J("ngModel",n.distinction.dateDecretCreation),e.xp6(5),e.Oqu(n.distinction.description))},dependencies:[a.Hq3,a.oHf,a.eFW,a.Yp0,a.iok,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,O.w9],styles:[".modal-header[_ngcontent-%COMP%]{background-color:#538136}"]})}return i})(),Ct=(()=>{class i{constructor(t){this.activeModal=t,this.distinction=new G}ngOnInit(){}close(){console.log("close"),this.activeModal.dismiss()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(p.Kz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-detail-distinction"]],decls:45,vars:9,consts:[[1,"card"],[1,"modal-header","text-white",2,"background-color","#538136"],[1,"text-center"],["cButton","","aria-label","Close",1,"close","btn-outline-danger","bg-danger",2,"color","white",3,"click"],["aria-hidden","true"],["name","addEditForm","role","form","novalidate",""],["addEditForm","ngForm"],[1,"modal-body"],[1,"row"],[1,"col-md-12"],[1,"table-responsive"],[1,"table","table-sm","no-border"],[1,"modal-footer"],["cButton","","color","success","variant","outline","size","sm",1,"float-end",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4",2),e._uU(3,"D\xe9tail distinction"),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return n.close()}),e.TgZ(5,"span",4),e._uU(6,"\xd7"),e.qZA()()(),e.TgZ(7,"form",5,6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"div",10)(13,"table",11)(14,"tbody")(15,"tr")(16,"th"),e._uU(17,"Code"),e.qZA(),e.TgZ(18,"td"),e._uU(19),e.qZA(),e.TgZ(20,"th"),e._uU(21,"Description"),e.qZA(),e.TgZ(22,"td"),e._uU(23),e.qZA(),e.TgZ(24,"th"),e._uU(25,"Categorie distinction"),e.qZA(),e.TgZ(26,"td"),e._uU(27),e.qZA()(),e.TgZ(28,"tr")(29,"th"),e._uU(30,"Libelle"),e.qZA(),e.TgZ(31,"td"),e._uU(32),e.qZA(),e.TgZ(33,"th"),e._uU(34,"Reference decret"),e.qZA(),e.TgZ(35,"td"),e._uU(36),e.qZA(),e.TgZ(37,"th"),e._uU(38,"Date decret"),e.qZA(),e.TgZ(39,"td"),e._uU(40),e.ALo(41,"date"),e.qZA()()()()()()()(),e.TgZ(42,"div",12)(43,"button",13),e.NdJ("click",function(){return n.close()}),e._uU(44,"Fermer "),e.qZA()()()()),2&o&&(e.xp6(19),e.hij(": ",n.distinction.code,""),e.xp6(4),e.hij(": ",n.distinction.description,""),e.xp6(4),e.hij(": ",n.distinction.categoryDistinction,""),e.xp6(5),e.hij(": ",n.distinction.libelle,""),e.xp6(4),e.hij(": ",n.distinction.referenceDecret,""),e.xp6(4),e.hij(": ",e.xi3(41,6,n.distinction.dateDecretCreation,"dd/MM/yyyy"),""))},dependencies:[a.Hq3,l._Y,l.JL,l.F,h.uU]})}return i})();function Mt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"c-col",7)(1,"button",8),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openAddEditModal())}),e._uU(2,"Ajouter"),e.qZA()()}}function qt(i,c){1&i&&(e.TgZ(0,"th",4),e._uU(1,"Action"),e.qZA())}function yt(i,c){if(1&i){const t=e.EpF();e.TgZ(0,"td")(1,"button",10),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.openAddEditModal(n))}),e.O4$(),e._UZ(2,"svg",11),e.qZA(),e.kcU(),e.TgZ(3,"button",12),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.openModalDetail(n))}),e._UZ(4,"i",13),e.qZA(),e.TgZ(5,"button",14),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,r=e.oxw();return e.KtG(r.removeDistinction(n))}),e._UZ(6,"i",15),e.qZA()()}}function Dt(i,c){if(1&i&&(e.TgZ(0,"tr")(1,"td")(2,"span"),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span"),e._uU(6),e.qZA()(),e.TgZ(7,"td")(8,"span"),e._uU(9),e.qZA()(),e.TgZ(10,"td")(11,"span"),e._uU(12),e.qZA()(),e.TgZ(13,"td")(14,"span"),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"span"),e._uU(18),e.ALo(19,"date"),e.qZA()(),e.YNc(20,yt,7,0,"td",9),e.qZA()),2&i){const t=c.$implicit,o=c.index,n=e.oxw();e.xp6(3),e.Oqu(o+1),e.xp6(3),e.Oqu(t.code),e.xp6(3),e.Oqu(t.abreviation),e.xp6(3),e.Oqu(t.libelle),e.xp6(3),e.Oqu(t.categoryDistinction),e.xp6(3),e.AsE("",t.referenceDecret," du ",e.xi3(19,8,t.dateDecretCreation,"dd/MM/yyyy"),""),e.xp6(2),e.Q6J("appHasAnyAuthority",n.droit)}}let xt=(()=>{class i{constructor(t,o,n,r){this.distinctionService=t,this.activatedRoute=o,this.router=n,this.modalService=r,this.totalItems=0,this.itemsPerPage=m.gK,this.ngbPaginationPage=1,this.droit="ADD_PARAM"}ngOnInit(){this.handleNavigation()}ngOnDestroy(){console.log("Dans ben com, ngOnDestroy")}loadPage(t,o){const n=t||this.page||1;this.distinctionService.query({page:n-1,size:this.itemsPerPage,sort:this.sort()}).subscribe({next:r=>{this.onSuccess(r.body,r.headers,n,!o)},error:()=>this.onError()})}handleNavigation(){this.loadPage()}trackId(t,o){return o.idDistinction}sort(){const t=[this.predicate+","+(this.ascending?"asc":"desc")];return"id"!==this.predicate&&t.push("id"),t}onSuccess(t,o,n,r){this.totalItems=Number(o.get("X-Total-Count")),this.page=n,r&&this.router.navigate(["/parametre/distinction"],{queryParams:{page:this.page,size:this.itemsPerPage,sort:this.predicate+","+(this.ascending?"asc":"desc")}}),this.distinctions=t||[],this.ngbPaginationPage=this.page}onError(){this.ngbPaginationPage=this.page??1}openAddEditModal(t){const o=this.modalService.open(vt,{size:"lg",backdrop:"static"});null!=t?.idDistinction&&(o.componentInstance.distinction=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}removeDistinction(t){d().fire({title:"Etes-vous vraiment s\xfbr?",text:"Cette action est irr\xe9versible!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Oui, supprimer!"}).then(o=>{o.isConfirmed&&this.delete(t)})}delete(t){this.distinctionService.delete(t.idDistinction).subscribe(()=>{this.loadPage(),d().fire({position:"center",icon:"success",title:"Suppression effectu\xe9e avec succ\xe8s",showConfirmButton:!1,timer:1500})},o=>{console.error("Distinction "+JSON.stringify(o))})}openModalDetail(t){const o=this.modalService.open(Ct,{size:"lg",backdrop:"static"});null!=t?.idDistinction&&(o.componentInstance.distinction=(0,v.Z)(t)),o.result.then(()=>{this.loadPage()},n=>{console.log(n)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(N),e.Y36(_.gz),e.Y36(_.F0),e.Y36(p.FF))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-distinction"]],decls:25,vars:4,consts:[[1,"mb-4"],["md","10"],["md","2",4,"appHasAnyAuthority"],["cTable","",3,"striped"],["scope","col"],["scope","col",4,"appHasAnyAuthority"],[4,"ngFor","ngForOf"],["md","2"],["cButton","","color","primary","variant","outline","size","sm",1,"float-end",3,"click"],[4,"appHasAnyAuthority"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["cIcon","","name","cilPen","size","sm"],["type","button",1,"btn","btn-outline-info","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-eye"],["type","button",1,"btn","btn-outline-danger","btn-sm",2,"margin-left","2px",3,"click"],[1,"fa","fa-remove"]],template:function(o,n){1&o&&(e.TgZ(0,"c-card",0)(1,"c-card-header")(2,"c-row")(3,"c-col",1),e._uU(4," Distinctions Honnorifiques "),e.qZA(),e.YNc(5,Mt,3,0,"c-col",2),e.qZA()(),e.TgZ(6,"c-card-body")(7,"table",3)(8,"thead")(9,"tr")(10,"th",4),e._uU(11,"N\xb0"),e.qZA(),e.TgZ(12,"th",4),e._uU(13,"Code"),e.qZA(),e.TgZ(14,"th",4),e._uU(15,"Abreviation"),e.qZA(),e.TgZ(16,"th",4),e._uU(17,"D\xe9signation"),e.qZA(),e.TgZ(18,"th",4),e._uU(19,"Cat\xe9gorie"),e.qZA(),e.TgZ(20,"th",4),e._uU(21,"D\xe9cret"),e.qZA(),e.YNc(22,qt,2,0,"th",5),e.qZA()(),e.TgZ(23,"tbody"),e.YNc(24,Dt,21,11,"tr",6),e.qZA()()()()),2&o&&(e.xp6(5),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(2),e.Q6J("striped",!0),e.xp6(15),e.Q6J("appHasAnyAuthority",n.droit),e.xp6(2),e.Q6J("ngForOf",n.distinctions))},dependencies:[h.sg,a.Hq3,a.AkF,a.yue,a.nkx,a.Yp0,a.iok,a.auY,C.ar,M.o,h.uU],styles:["c-card-header[_ngcontent-%COMP%]{background-color:#538136}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]{color:#fff;text-align:center;text-transform:uppercase;font-size:large}c-card-header[_ngcontent-%COMP%]   c-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#538136;font-weight:700}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{color:#538136}"]})}return i})();var q=u(1542);const Ut=[{path:"beneficiaire",component:re,canActivate:[q.P]},{path:"depot",component:De,canActivate:[q.P]},{path:"fournisseur",component:he,canActivate:[q.P]},{path:"detenteur",component:Ne,canActivate:[q.P]},{path:"ordonnateur",component:$e,canActivate:[q.P]},{path:"grade",component:ot,canActivate:[q.P]},{path:"magasin",component:mt,canActivate:[q.P]},{path:"medaille",component:Tt,canActivate:[q.P]},{path:"distinction",component:xt,canActivate:[q.P]}];let Ot=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[_.Bz.forChild(Ut),_.Bz]})}return i})(),Pt=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[h.ez]})}return i})(),Et=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[h.ez,Ot,a.hJ1,a.dTQ,a.ejP,a.zE6,a.U$I,C.QX,p.IJ,l.u5,O.A0,Pt,Z.JX,a.nMh]})}return i})()}}]);